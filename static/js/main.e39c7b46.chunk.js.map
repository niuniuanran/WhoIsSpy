{"version":3,"sources":["Components/Shared/OptionButtonBig.tsx","Contexts/LanguageContext.tsx","Components/Shared/ContentContainer.tsx","Components/EnterGame/ChooseLanguage.tsx","Components/EnterGame/NumSettingSliders.tsx","Components/EnterGame/RoomInfoEnter.tsx","Utils/Api.tsx","Components/EnterGame/NewRoom.tsx","Components/EnterGame/JoinRoom.tsx","Components/Contribute/Contribute.tsx","Components/EnterGame/EnterGameOptions.tsx","Interfaces/Messages.ts","Components/Shared/PlayerAvatar.tsx","Components/Room/NamePlayerForRoom.tsx","Interfaces/Player.ts","Components/Room/PlayerList.tsx","Components/Room/RoomTopAlert.tsx","Components/Play/WordCard.tsx","Components/Play/VoteCard.tsx","Components/Play/InstructionCard.tsx","Components/Play/Play.tsx","Components/Room/Room.tsx","Contexts/RoomContext.tsx","Components/GameRoute.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","option","height","width","fontSize","iconSpan","paddingRight","OptionButtonBig","text","path","icon","classes","history","useHistory","Grid","item","xs","Button","variant","size","color","className","onClick","push","LanguageContext","React","createContext","undefined","LanguageProvider","language","children","textDisplay","newRoom","en","cn","joinRoom","addWords","randomBlank","eighteenPlus","back","spyPlural","spySingular","total","roomCode","enRoom","cnRoom","enterRoom","roomFull","createRoom","ok","youNickname","exit","findRoom","failJoinRoom","changeWord","backToHomepage","youLookDisconnected","waitingVote","you","imReady","notReady","gameStarting","ready","reading","listening","talking","voting","killed","win","lose","voted","wordChanging","offline","yourWord","gotIt","seeWord","pleaseVote","submitVote","noAlivePlayers","gotTies","goodWin","textDisplayFuncs","room","arg","isReady","isNotReady","appearAway","turnToTalk","isKilled","spiesWin","requestChangeWord","joined","left","Provider","value","getText","key","getCurrentLanguage","root","flexGrow","textAlign","margin","padding","boxSizing","palette","secondary","backgroundColor","content","spacing","position","top","msTransform","transform","ContentContainer","allowBack","allowExit","onExit","languageContext","useContext","container","md","aria-label","style","fontWeight","goBack","ChooseLanguage","PlayerNumSlider","withStyles","track","thumb","border","rail","opacity","bottom","valueLabel","marginTop","marginLeft","Slider","SpyNumSlider","mark","NumSettingSliders","roomSettings","setRoomSettings","numPlayer","onChange","e","newValue","defaultValue","getAriaValueText","v","aria-labelledby","step","min","max","marks","valueLabelDisplay","valueLabelFormat","numSpy","codeDisplay","breakpoints","up","skeleton","RoomInfoEnter","loading","code","capacity","currentPlayerNum","roomLanguage","marginBottom","Typography","align","paragraph","display","Array","map","_","i","Skeleton","animation","split","c","disabled","CallApi","a","payload","method","headers","axios","url","process","data","formGroup","submitButton","NewRoom","useState","error","setError","createdRoomInfo","setCreatedRoomInfo","FormGroup","FormControlLabel","control","Checkbox","checked","target","name","label","then","catch","JoinRoom","setRoomCode","roomInfoFound","setRoomInfoFound","TextField","id","autoFocus","inputProps","maxLength","minLength","CircularProgress","preventDefault","j","type","Contribute","EnterGameOptions","match","useRouteMatch","BroadcastActions","ReportActions","createStyles","flexDirection","justifyContent","alignItems","xlarge","large","medium","small","xsmall","avatar","PlayerAvatar","nickname","stayLoading","imageName","setImageName","Avatar","alt","src","onLoad","NamePlayerForRoom","setNickname","RoomContext","tryNickname","setTryNickname","useParams","useEffect","localStorage","getItem","clear","autoComplete","onInput","targetInput","required","PlayerStates","me","others","new","player","borderRadius","playerName","filter","PlayerList","playersInRoom","roomCapacity","spotNum","length","sort","b","serialNumber","p","Badge","state","badgeContent","right","RoomTopAlert","alertLine","Alert","severity","iconMapping","success","warning","main","zIndex","invisible","wordArea","cardArea","side","WordCard","word","central","onRead","defaultHide","visible","setVisible","onClickGotIt","Card","CardActionArea","CardContent","component","paddingLeft","CardActions","VoteCard","setTarget","onVote","voteTargets","FormControl","RadioGroup","row","event","n","Radio","cardContent","instruction","InstructionCard","Play","onTalkFinish","onWordRead","alertType","reportResultReceived","connected","playerState","setPlayerState","find","requesterName","useStyle","modalBody","down","modalButton","RoomStates","Room","onExitRoom","onDisconnectFromRoom","joinFailedMessage","roomState","setJoinFailedMessage","getReady","undoReady","onModalClose","setTimeout","Modal","open","onClose","aria-describedby","Paper","RoomProvider","setId","setConnected","setAlertLine","setPlayersInRoom","setRoomCapacity","setWord","setInstruction","wordRead","setWordRead","setVoteTargets","setRoomState","setAlertType","ws","useRef","handleMessage","useCallback","message","alert","action","players","JSON","parse","current","send","stringify","senderNickname","setItem","m","line","ReconnectingWebSocket","onopen","console","log","onmessage","evt","onclose","GameRoute","App","createMuiTheme","ThemeProvider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e39c7b46.chunk.js","sourcesContent":["import { Grid, Button } from \"@material-ui/core\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    option: {\n        height: '5rem',\n        width: '15rem',\n        fontSize: '1.5rem'\n    },\n    iconSpan: {\n        fontSize: '2rem',\n        paddingRight: '1rem'\n    }\n  }));\n\ninterface OptionProps {\n    text: string,\n    path: string,\n    icon?: JSX.Element\n}\n\nexport default function OptionButtonBig({text, path, icon}:OptionProps){\n    const classes = useStyles()\n    const history = useHistory()\n\n    return <Grid item xs={12}>\n                <Button variant=\"contained\" size=\"large\" color=\"primary\" className={classes.option} onClick={()=>{history.push(path)}}>\n                    <span className={classes.iconSpan}>\n                        {icon}\n                    </span>\n                    <span> \n                        {text}\n                    </span>\n                </Button>\n            </Grid>\n}","import React from \"react\";\n\ninterface LanguageContextProp {\n    language:string,\n    children:JSX.Element\n}\nconst LanguageContext = React.createContext<any>(undefined)\nexport type LanguageContextType = {\n    language: string,\n    getText: (key:string, arg?:string) => string,\n    getCurrentLanguage: () => string\n}\n\nfunction LanguageProvider({language, children}:LanguageContextProp){\n    \n    const textDisplay:{ [name: string]: {[language:string]:string}}={\n        newRoom: {\n            en: \"New room\",\n            cn: \"新建房间\",\n        },\n        joinRoom:{\n            en: \"Join room\",\n            cn: \"加入房间\"\n        },\n        addWords:{\n            en: \"Contribute\",\n            cn: \"贡献词条\"\n        },\n        randomBlank: {\n            en: \"Spy can be blank\",\n            cn: \"卧底可以是白板\"\n        },\n        eighteenPlus: {\n            en: \"Allow 18+ words\",\n            cn: \"允许成人词汇\"\n        },\n        back: {\n            en: \"Back\",\n            cn: \"返回\"\n        },\n        spyPlural: {\n            en: \"spies\",\n            cn: \"个卧底\"\n        },\n        spySingular: {\n            en: \"spy\",\n            cn: \"个卧底\"\n        },\n        total: {\n            en: \"total\",\n            cn: \"个玩家\"\n        },\n        roomCode: {\n            en: \"Room code\",\n            cn: \"房间号\"\n        },\n        enRoom: {\n            en: \"Room in English\",\n            cn: \"英文房间\"\n        },\n        cnRoom: {\n            en: \"Room in Chinese\",\n            cn: \"中文房间\"\n        },\n        enterRoom: {\n            en: \"Enter room\",\n            cn: \"进入房间\"\n        },\n        roomFull: {\n            en: \"Room is full\",\n            cn: \"房间已满\"\n        },\n        createRoom: {\n            en: \"Create room\",\n            cn: \"创建房间\"\n        },\n        ok: {\n            en: \"OK\",\n            cn: \"确认\"\n        },\n        youNickname: {\n            en: \"Your nickname\",\n            cn: \"你的昵称\"\n        },\n        exit: {\n            en: \"Exit\",\n            cn: \"退出\"\n        },\n        findRoom: {\n            en: \"Find room\",\n            cn: \"查找房间\"\n        },\n        failJoinRoom: {\n            en: \"Failed to join room\",\n            cn: \"加入房间失败\"\n        },\n        changeWord: {\n            en: \"Change words\",\n            cn: \"换词\"\n        },\n        backToHomepage: {\n            en: \"Back to homepage\",\n            cn: \"返回主页\"\n        },\n        youLookDisconnected:{\n            en: \"You look disconnected...\",\n            cn: \"你好像掉线了🤔\"\n        },\n        waitingVote:{\n            en: \"Waiting for other players to vote\",\n            cn: \"正在等待其他玩家投票\"\n        },\n        you: {\n            en: \"you\",\n            cn: \"你\"\n        },\n        imReady: {\n            en:\"I'm ready\",\n            cn:\"准备\"\n        },\n        notReady: {\n            en:\"I'm not ready\",\n            cn:\"没准备好\"\n        },\n        gameStarting:{\n            en: \"Game starting...\",\n            cn: \"游戏即将开始...\"\n        },\n        ready: {\n            en: \"ready\",\n            cn: \"准备\"\n        },\n        reading: {\n            en: \"reading\",\n            cn: \"读词中\"\n        },\n        listening: {\n            en: \"\",\n            cn: \"\"\n        },\n        talking: {\n            en: \"talking\",\n            cn: \"发言中\"\n        },\n        voting: {\n            en: \"voting\",\n            cn: \"投票中\"\n        },\n        killed: {\n            en: \"killed\",\n            cn: \"被杀\"\n        },\n        win: {\n            en: \"win\",\n            cn: \"胜利\"\n        },\n        lose: {\n            en: \"lose\",\n            cn: \"失败\"\n        },\n        voted: {\n            en: \"voted\",\n            cn: \"已投票\"\n        },\n        wordChanging:{\n            en: \"\",\n            cn: \"\"\n        },\n        offline: {\n            en: \"offline\",\n            cn: \"掉线\"\n        },\n        yourWord: {\n            en: \"Your word:\",\n            cn: \"你的词是：\"\n        },\n        gotIt: {\n            en: \"Got it\",\n            cn: \"好的\"\n        },\n        seeWord:{\n            en: \"See word\",\n            cn: \"显示词语\"\n        },\n        pleaseVote: {\n            en: \"Please vote\",\n            cn: \"请投票\"\n        },\n        submitVote: {\n            en: \"Vote\",\n            cn: \"提交\"\n        },\n        noAlivePlayers: {\n            en: `No alive players in room`,\n            cn: `已没有存活玩家`\n        },\n        gotTies: {\n            en: \"Got ties. Please continue to vote\",\n            cn: \"平票，请继续投票\"\n        },\n        goodWin: {\n            en: \"No spies left. Good people win!\",\n            cn: \"卧底全部死亡，好人胜利！\"\n        }\n    }\n\n    const textDisplayFuncs: { [name: string]: {[language:string]:(arg:string)=>string}}={\n        room:{\n            en: (arg:string) => `Room ${arg}`,\n            cn: (arg: string) => `${arg} 房间`\n        },\n        isReady:{\n            en: (arg:string) => `${arg} is ready`,\n            cn: (arg: string) => `玩家 ${arg} 准备`\n        },\n        isNotReady:{\n            en: (arg:string) => `${arg} is not ready`,\n            cn: (arg: string) => `玩家 ${arg} 撤销准备`\n        },\n        appearAway:{\n            en: (arg:string) => `${arg} appears away`,\n            cn: (arg: string) => `玩家 ${arg} 掉线`\n        },\n        turnToTalk: {\n            en: (arg:string) => `${arg}'s turn to talk`,\n            cn: (arg:string) => `玩家 ${arg} 请发言`,\n        },\n        isKilled: {\n            en: (arg:string) => `${arg} is killed`,\n            cn: (arg:string) => `玩家 ${arg} 被杀`,\n        },\n        spiesWin: {\n            en: (arg:string) => `Only ${arg} good people left. Spies win!`,\n            cn: (arg:string) => `仅剩${arg}名好人，卧底胜利！`,\n        },\n        requestChangeWord: {\n            en: (arg:string) => `${arg} requested to change word`,\n            cn: (arg:string) => `玩家 ${arg} 要求换词`,\n        },\n        joined: {\n            en: (arg: string) => `${arg} joined the room`,\n            cn: (arg: string) => `${arg} 加入了房间`,\n        },\n        left: {\n            en: (arg: string) => `${arg} left the room`,\n            cn: (arg: string) => `${arg} 离开了房间`,\n        }\n    }\n\n    const getText = (key:string, arg:string) => {\n        return (arg && textDisplayFuncs[key][language](arg)) || textDisplay[key][language]}\n    const getCurrentLanguage = () => language\n\n    return <LanguageContext.Provider value={\n        {\n            language,\n            getText,\n            getCurrentLanguage\n        }\n    }>\n        {children}\n    </LanguageContext.Provider>\n}\n\nexport {LanguageProvider, LanguageContext}\n","import {Button, Grid} from \"@material-ui/core\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { useHistory } from \"react-router-dom\";\nimport { useContext } from 'react'\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n      textAlign: 'center',\n      margin: 0,\n      padding: '2rem',\n      width: '100vw',\n      height: '100vh',\n      boxSizing: 'border-box',\n      color: theme.palette.text.secondary,\n      backgroundColor: '#121212',\n    },\n    content: {\n        height: '60%',\n        width: '100%',\n        margin: theme.spacing(0, 'auto'),\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        msTransform: 'translateY(-50%) translateX(-50%)',\n        transform: 'translateY(-50%) translateX(-50%)',\n    },\n    back: {\n        position: 'absolute',\n        left: '-2rem',\n        top: '-6rem'\n    }\n  }));\n\ninterface ContentContainerProps {\n    allowBack?: boolean,\n    allowExit?: boolean,\n    children:JSX.Element,\n    onExit?: () => void\n}\n\nexport default function ContentContainer({children, allowBack, allowExit, onExit}:ContentContainerProps){\n    const history = useHistory();\n    const classes = useStyles();\n    const languageContext = useContext(LanguageContext) as LanguageContextType\n\n    if (allowBack) {\n        return <div className={classes.root}>\n            <Grid container >\n                <Grid item xs={9} md={4} className={classes.content}> \n                    <div className={classes.back}>\n                        <Button size=\"large\" aria-label=\"back\" color=\"primary\" variant=\"text\" style={{fontWeight: \"bolder\"}} onClick={() => history.goBack()}>\n                            <ArrowBackIosIcon /> {languageContext && languageContext.getText(\"back\")}\n                        </Button>\n                    </div>\n                    {children}\n                </Grid>\n            </Grid>\n        </div>\n    }\n\n    if (allowExit) {\n        return <div className={classes.root}>\n            <Grid container >\n                <Grid item xs={9} md={4} className={classes.content}> \n                    <div className={classes.back}>\n                        <Button size=\"large\" aria-label=\"back\" color=\"primary\" variant=\"text\" style={{fontWeight: \"bolder\"}} \n                            onClick={() => {\n                                onExit && onExit()\n                                history.push(`/${languageContext?.getCurrentLanguage()}`\n                            )}}>\n                            <ArrowBackIosIcon /> {languageContext?.getText(\"exit\")}\n                        </Button>\n                    </div>\n                    {children}\n                </Grid>\n            </Grid>\n        </div>\n    }\n\n    return <div className={classes.root}>\n       <Grid container>\n            <Grid item xs={9} md={6} className={classes.content}> \n                {children}\n            </Grid>\n        </Grid>\n    </div>\n}","import OptionButtonBig from '../Shared/OptionButtonBig';\nimport {Grid} from '@material-ui/core'\nimport ContentContainer from '../Shared/ContentContainer';\n\nexport default function ChooseLanguage(){\n    return <ContentContainer>\n                <Grid container spacing={5}>\n                    <OptionButtonBig path=\"/en\" text=\"English\"/>\n                    <OptionButtonBig path=\"/cn\" text=\"中文\"/>\n            </Grid>\n        </ContentContainer>\n}","import { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Slider } from \"@material-ui/core\";\nimport { useContext } from 'react'\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport RoomSettings from '../../Interfaces/RoomSettings';\n\nconst PlayerNumSlider = withStyles({\n    root: {\n        position: 'absolute',\n        width: \"50%\",\n        left: '50%',\n        top: '1rem',\n      },\n    track: {\n        height: 6,\n      },\n    thumb: {\n        height: '1rem',\n        width: '1rem',\n        border: '1px solid currentColor',\n      },\n    rail: {\n        height: 6,\n        opacity: 1,\n        backgroundColor: 'rgba(63, 81, 181, 0.38)',\n        '&::after': {\n            content: '\"\"',\n            height: '6px',\n            width: '100%',\n            position: 'absolute',\n            bottom: '0px',\n            top: '0px',\n            left: '-100%',\n            backgroundColor: 'currentColor',\n            }\n    },\n    valueLabel: {\n        top: -46,\n        left: 'calc(-50% - 8px)',\n        '& *': {\n            width: '2.8rem',\n            height: '2.8rem',\n          },\n        '& span span': {\n            width: '1.7rem',\n            fontSize: '0.8rem',\n            marginTop: '0.6rem',\n            marginLeft: '-0.6rem'\n        }\n    }\n})(Slider)\n\nconst SpyNumSlider = withStyles({\n    root: {\n        position: 'absolute',\n        width: \"30%\",\n        left: '10%',\n        top: '1rem'\n      },\n    track: {\n        height: 6,\n    },\n    rail: {\n        backgroundColor: 'rgba(0, 0, 0, 0)',\n        opacity: 1,\n        height: 0,\n        '&::after': {\n            content: '\"\"',\n            height: '6px',\n            width: '33.33%',\n            position: 'absolute',\n            bottom: '0px',\n            top: '0px',\n            left: '-33.33%',\n            backgroundColor: 'currentColor',\n          }\n      },\n      thumb: {\n        height: '1rem',\n        width: '1rem',\n        border: '1px solid currentColor',\n      },\n      mark: {\n          color: '#424242',\n          opacity: 0.8\n      },\n      valueLabel: {\n        top: -46,\n        left: 'calc(-50% - 8px)',\n        '& *': {\n            width: '2.8rem',\n            height: '2.8rem',\n          },\n        '& span span': {\n            width: '1.7rem',\n            fontSize: '0.8rem',\n            marginTop: '0.5rem',\n            marginLeft: '-0.6rem'\n        }\n    }\n})(Slider)\n\ninterface NumSettingSlidersProps {\n  roomSettings: RoomSettings\n  setRoomSettings: (r: RoomSettings) => void\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: 'relative',\n      width: '100%',\n      height: '5rem',\n      marginTop: '1rem',\n    },\n  }));\n\nexport default function NumSettingSliders({roomSettings, setRoomSettings}:NumSettingSlidersProps){\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n    const classes = useStyles()\n    return <div className={classes.root}>\n            <PlayerNumSlider\n                value={roomSettings.numPlayer}\n                onChange={(e: any, newValue: number | number[]) => {\n                  setRoomSettings({...roomSettings, numPlayer: newValue as number})\n                }}\n                defaultValue={6}\n                getAriaValueText={v => `${v} players`}\n                aria-labelledby=\"number-of-players\"\n                step={1}\n                min={5}\n                max={10}\n                marks\n                valueLabelDisplay=\"on\"   \n                valueLabelFormat={v => `${v} ${getText(\"total\")}`}                 \n            />    \n            <SpyNumSlider\n                value={roomSettings.numSpy}\n                onChange={(e: any, newValue: number | number[]) => {\n                  setRoomSettings({...roomSettings, numSpy: newValue as number})\n                }}\n                defaultValue={2}\n                getAriaValueText={v => `${v} ${getText(\"spyPlural\")}`}\n                aria-labelledby=\"number-of-spys\"\n                step={1}\n                min={1}\n                max={4}\n                valueLabelDisplay=\"on\"   \n                color=\"secondary\"\n                marks\n                valueLabelFormat={v => `${v} ${v > 1 ? getText(\"spyPlural\") : getText(\"spySingular\")}`}\n            />  \n        </div>\n}","import { Grid } from \"@material-ui/core\";\nimport { Typography, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Skeleton } from '@material-ui/lab';\nimport ContentContainer from '../Shared/ContentContainer'\nimport PersonIcon from '@material-ui/icons/Person';\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport { useContext } from \"react\";\nimport RoomEnterInfo from \"../../Interfaces/RoomEnterInfo\"\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    codeDisplay: {\n        [theme.breakpoints.up('md')]: {\n            width: \"80%\",\n            margin: '0 auto'\n        }\n    },\n    skeleton: {\n        margin: '0 auto'\n    }\n  }));\n\nexport default function RoomInfoEnter({loading, code, capacity, currentPlayerNum, language: roomLanguage}: RoomEnterInfo){\n        const { getText } = useContext(LanguageContext) as LanguageContextType\n        const classes = useStyles()\n        const history = useHistory()\n\n        return <ContentContainer allowBack>\n            <div>\n                <Grid container style={{marginBottom: '3rem'}} className={classes.codeDisplay}>\n                    <Grid item xs={11}>\n                        <Typography align=\"left\" paragraph variant=\"h6\" display=\"block\" style={{margin: \"1rem 0 1rem 1rem\"}}>\n                            {getText(\"roomCode\")}: \n                        </Typography>\n                    </Grid>\n                    {\n                        (loading || !code)? [...Array(4)].map((_, i) => (\n                            <Grid item xs={3} key={i}>\n                                <Skeleton className={classes.skeleton} animation=\"wave\">\n                                    <Typography variant=\"h2\">1</Typography>\n                                </Skeleton>\n                            </Grid>)) : (\n                            (code + \"\").split(\"\").map((c, i) => (\n                                <Grid item xs={3} key={i}>\n                                    <Typography variant=\"h2\">{c}</Typography>\n                                </Grid>)\n                        ))\n                    }\n                </Grid>\n\n                {\n                    (currentPlayerNum !== undefined && capacity !== undefined) ? (\n                        <div>\n                        {\n                            [...Array(currentPlayerNum)].map((_, i) => <PersonIcon color=\"primary\" key={i}/>)\n                        }\n                        {\n                            [...Array(capacity - currentPlayerNum)].map((_, i) => <PersonIcon color=\"disabled\" key={i}/>)\n                        }\n                        </div>\n                    ) : (\n                        <Skeleton className={classes.skeleton} animation=\"wave\">\n                            {[...Array(7)].map((_, i) => <PersonIcon color=\"primary\" key={i}/>)}\n                        </Skeleton>\n                    )\n                }\n\n                {\n                    (roomLanguage !== undefined ) ? (\n                        <Typography display=\"block\" variant=\"caption\">\n                            {getText(`${roomLanguage}Room`)}\n                        </Typography>\n                    ) : (\n                        <Skeleton className={classes.skeleton} animation=\"wave\">\n                            <Typography>Room in English</Typography>\n                        </Skeleton>\n                    )\n                }\n                \n                {(loading || !code)? (<Skeleton className={classes.skeleton} animation=\"wave\">\n                    {\n                        (currentPlayerNum < capacity) ? (<Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginTop: \"2rem\"}}>\n                            {getText(\"enterRoom\")}\n                        </Button>) : (\n                        <Button disabled size=\"large\" variant=\"contained\" color=\"primary\" style={{marginTop: \"2rem\"}}>\n                            {getText(\"roomFull\")}\n                        </Button>\n                        )\n                    }\n                    </Skeleton>):(\n                <Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginTop: \"2rem\"}} onClick={() => {history.push(`/${roomLanguage}/room/${code}/enter`)}}>\n                    {getText(\"enterRoom\")}\n                </Button>)} \n            </div>\n        </ContentContainer>\n}","import axios from 'axios'\n\ninterface ApiConfig {\n  payload?: any,\n  path?: string,\n  headers?: any,\n  method?: \"GET\"|\"POST\"|\"PUT\"|\"DELETE\"\n}\n\nconst CallApi = async ({ payload, path, method=\"POST\", headers = {} }:ApiConfig) => {\n  try {\n    const { data } = await axios({\n      method,\n      url:`http://${process.env.REACT_APP_API_BASE_URL}/${path}`,\n      headers,\n      data: payload\n    });\n  \n    return data;\n  } catch (error) {\n    throw error\n  }\n}\n\nexport { CallApi }","import {useState, useContext} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentContainer from \"../Shared/ContentContainer\";\nimport { FormGroup, FormControlLabel, Checkbox, Button } from \"@material-ui/core\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport NumSettingSliders from \"./NumSettingSliders\";\nimport RoomInfoEnter from \"./RoomInfoEnter\";\nimport RoomEnterInfo from \"../../Interfaces/RoomEnterInfo\";\nimport {CallApi} from \"../../Utils/Api\";\nimport RoomSettings from \"../../Interfaces/RoomSettings\";\n\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        width: 'fit-content',\n        margin: '1rem auto'\n    },\n    submitButton: {\n        margin: '2rem 1rem 1rem 0'\n    }\n  }));\n\nexport default function NewRoom(){\n    const classes = useStyles();\n    const {getText, getCurrentLanguage} = useContext(LanguageContext) as LanguageContextType\n    const [error, setError] = useState<string>(\"\")\n    const [roomSettings, setRoomSettings] = useState<RoomSettings>({\n        numPlayer: 6,\n        numSpy: 1,\n        randomBlank: true,\n        eighteenPlus: false,\n        language: getCurrentLanguage()\n    })\n    const [createdRoomInfo, setCreatedRoomInfo] = useState<RoomEnterInfo>({\n        loading: false,\n        code: undefined,\n        capacity: 6,\n        currentPlayerNum: 0,\n        language: getCurrentLanguage(),\n        eighteenPlus: false\n    })\n\n    const onClickCreate = () => {\n        setCreatedRoomInfo((createdRoomInfo) => ({...createdRoomInfo, loading: true}))\n        CallApi({path: \"create-room\", payload: roomSettings})\n            .then((code:string) => {\n                setCreatedRoomInfo(() => ({...createdRoomInfo, loading: false, code, capacity: roomSettings.numPlayer}))\n            })\n            .catch((e) => {\n                setError(e)\n            })\n    }\n\n    if (error) {\n        return <div>\n            Error: \n            </div>\n    }\n\n    if (createdRoomInfo.loading || createdRoomInfo.code !== undefined) {\n        return <RoomInfoEnter {...createdRoomInfo}/>\n    }\n\n    return <ContentContainer allowBack>\n            <form>\n                <NumSettingSliders roomSettings={roomSettings} setRoomSettings={setRoomSettings}/>    \n                <FormGroup className={classes.formGroup}>\n                    <FormControlLabel\n                        control={<Checkbox checked={roomSettings.randomBlank} \n                                        onChange={ e => setRoomSettings(roomSettings => ({...roomSettings, randomBlank: e.target.checked}))} \n                                        name=\"random-blank\"\n                                        color=\"primary\" />}\n                        label={getText(\"randomBlank\")}\n                    />\n                    <FormControlLabel\n                        control={<Checkbox checked={roomSettings.eighteenPlus} \n                                        onChange={ e => setRoomSettings(roomSettings => ({...roomSettings, eighteenPlus: e.target.checked}))} \n                                        name=\"eighteen-plus\"\n                                        color=\"secondary\" />}\n                        label={getText(\"eighteenPlus\")}\n                    />\n                </FormGroup>\n                <Button className={classes.submitButton} onClick={ onClickCreate }\n                        size=\"large\" variant=\"contained\" color=\"primary\">\n                    { getText(\"createRoom\") }\n                </Button>\n            </form>\n        </ContentContainer>\n}","import ContentContainer from \"../Shared/ContentContainer\"\nimport { FormGroup, TextField, Button, CircularProgress } from \"@material-ui/core\"\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useState, useContext } from \"react\";\nimport RoomEnterInfo from \"../../Interfaces/RoomEnterInfo\";\nimport { CallApi } from \"../../Utils/Api\"\nimport RoomInfoEnter from \"./RoomInfoEnter\";\n\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        width: 'fit-content',\n        margin: '1rem auto'\n    },\n    submitButton: {\n        margin: '1rem auto'\n    }\n  }));\n\nexport default function JoinRoom(){\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const [roomCode, setRoomCode] = useState(\"\")\n    const [roomInfoFound, setRoomInfoFound] = useState<RoomEnterInfo>({\n        loading: false,\n        code: undefined,\n        capacity: 5,\n        currentPlayerNum: 0,\n        language: \"\"\n    })\n\n    const classes = useStyles()\n    const findRoom = () => {\n        setRoomInfoFound(roomInfoFound => ({...roomInfoFound, loading: true}))\n        CallApi({\n            path: `find-room?code=${roomCode}`,\n            payload: roomCode,\n            method: \"GET\"\n        }).then((j:any) => {\n            setRoomInfoFound({...j, loading: false})\n        })\n    }\n\n    if (roomInfoFound.code) {\n        return <RoomInfoEnter {...roomInfoFound}/>\n    }\n    \n    return <ContentContainer allowBack>\n        <form>\n            <FormGroup className={classes.formGroup}>\n                        <TextField\n                            id=\"room-code\"\n                            label={getText(\"roomCode\")}\n                            variant=\"outlined\"\n                            color=\"primary\"\n                            value={roomCode}\n                            autoFocus\n                            inputProps={{ maxLength: 4, minLength: 4 }}\n                            onChange={(e) => {\n                                setRoomCode(e.target.value)\n                            }}\n                        />\n            </FormGroup>\n        {\n            roomInfoFound.loading? (\n                <Button className={classes.submitButton} \n                    size=\"large\" variant=\"contained\" color=\"primary\" disabled>\n                    <CircularProgress />\n                </Button> \n            ):(\n                <Button className={classes.submitButton} onClick={e => {e.preventDefault(); findRoom();}}\n                    size=\"large\" variant=\"contained\" color=\"primary\" type=\"submit\">\n                        { getText(\"findRoom\") }\n                 </Button>   \n            )\n        }    \n        </form>\n    </ContentContainer>\n}","import ContentContainer from \"../Shared/ContentContainer\"\n\nexport default function Contribute(){\n    return <ContentContainer allowBack>\n       <div>contribute</div>\n    </ContentContainer>\n}","import {Grid} from \"@material-ui/core\"\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport { useContext } from \"react\";\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport OptionButtonBig from \"../Shared/OptionButtonBig\";\nimport ContentContainer from \"../Shared/ContentContainer\";\nimport { useRouteMatch } from \"react-router-dom\";\n\nexport default function EnterGameOptions(){\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n    const match = useRouteMatch();\n\n    return <ContentContainer allowBack>\n                <Grid container spacing={5}>\n                    <OptionButtonBig text={getText(\"newRoom\")} icon={<GroupAddIcon/>} path={`${match.path}/new-room`}/>\n                    <OptionButtonBig text={getText(\"joinRoom\")} icon={<PersonAddIcon/>} path={`${match.path}/join-room`}/>\n                    <OptionButtonBig text={getText(\"addWords\")} icon={<PostAddIcon/>} path={`${match.path}/contribute`}/>\n                </Grid>\n            </ContentContainer>\n}","const BroadcastActions = {\n     PlayerLeftBroadcast : \"player-left\",\n     PlayerJoinedBroadcast: \"player-joined\",\n     PlayerNewStateBroadcast: \"player-state\",\n     YourWordBroadcast: \"your-word\",\n     GameWillStartBroadcast: \"game-will-start\", \t\n     AskVoteBroadcast: \"please-vote\",\n}\n\nconst ReportActions = {\n    TalkFinishAction: \"talk-finish\",\n\tVoteAction:        \"vote\",\n\tPlayerReadyAction: \"player-ready\",\n\tPlayerExitAction:  \"player-left\",\n    PlayerUndoReadyAction: \"player-undo-ready\",\n    WordReadAction: \"word-read\",\n    ResultReceived: \"result-received\",\n    ChangeWordAction: \"change-word\"\n}\n\ninterface AytMessage {\n    line?: string\n    numPlayer?: number\n}\n\ninterface BroadcastMessage{\n    action: string\n    payload: string\n    roomcode?: string\n    alert?: string\n    instruction?: string\n    alertType?: string\n    arg?: string\n}\n\ninterface ReportMessage{\n    action?: string\n    senderNickname?: string\n    roomCode?: string\n    payload?: string\n}\n\nexport type {BroadcastMessage, ReportMessage, AytMessage}\nexport {BroadcastActions, ReportActions}","import { Avatar } from \"@material-ui/core\";\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { useState } from \"react\";\nimport { Skeleton } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    xlarge:{\n        width: theme.spacing(12),\n        height: theme.spacing(12),\n        padding: theme.spacing(1)\n    },\n    large: {\n        width: theme.spacing(7),\n        height: theme.spacing(7),\n        padding: 3\n    },\n    medium: {\n        width: theme.spacing(6),\n        height: theme.spacing(6),\n        padding: 4\n    }, \n    small: {\n        width: theme.spacing(5),\n        height: theme.spacing(5),\n    },\n    xsmall: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n        padding: 2\n    },\n    avatar: {\n        backgroundColor: '#343434',\n    },\n  }),\n);\n\ninterface PlayerAvatarProps {\n    size: \"xlarge\"|\"large\"|\"medium\"|\"small\"|\"xsmall\"\n    nickname?: string,\n    className?: string,\n    stayLoading?: boolean\n}\n\nexport default function PlayerAvatar({nickname, size, className, stayLoading=false}: PlayerAvatarProps){\n    const classes = useStyles()\n    const [imageName, setImageName] = useState(\"\")\n\n    return <div className={classes.root}>\n            <Avatar alt={nickname} src={`https://avatars.dicebear.com/api/bottts/${nickname}.svg`} \n                    className={`${classes.avatar} ${classes[size]} ${className}`} \n                    onLoad={()=>{ nickname && setImageName(nickname);}} \n                    style={(imageName !== nickname || stayLoading)? {display: 'none'}: {display: 'block'}}/>\n            <Skeleton variant=\"circle\" animation=\"wave\" className={`${classes[size]}`} \n                    style={(imageName !== nickname || stayLoading)? {display: 'block'}: {display: 'none'}}/>\n        </div>\n}","import {useState, useContext, useEffect} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FormGroup, TextField, Button, } from \"@material-ui/core\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { useParams } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        width: 'fit-content',\n        margin: '1rem auto'\n    },\n    submitButton: {\n        margin: '1rem auto'\n    }\n  }));\n\nexport default function NamePlayerForRoom() {\n    const classes = useStyles()\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const { setNickname } = useContext(RoomContext) as RoomContextType\n    const [ tryNickname, setTryNickname ] = useState(\"\")\n    const { code } = useParams<{code?: string}>()\n\n    useEffect(() => {\n        const storedCode = localStorage.getItem(\"roomCode\")\n        if(storedCode === code) {\n            const nickname = localStorage.getItem(\"nickname\") \n            if (nickname) {\n                setTryNickname(nickname);\n            }\n            localStorage.clear();\n        }\n    }, [code])\n\n    return  <form autoComplete=\"off\">\n            <PlayerAvatar nickname={tryNickname} size=\"xlarge\"/>\n            <FormGroup className={classes.formGroup}>\n                <TextField\n                    id=\"nickname\"\n                    label={getText(\"youNickname\")}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    value={tryNickname}\n                    autoFocus\n                    inputProps={{ maxLength: 6, minLength: 1 }}\n                    onInput={(e) => {\n                        const targetInput = e.target as HTMLInputElement\n                        setTryNickname(targetInput.value)\n                    }}\n                    required\n                />\n            </FormGroup>\n            <Button type=\"submit\" className={classes.submitButton} \n                    onClick={e => {\n                        e.preventDefault()\n                        setNickname(tryNickname)\n                    }}\n                    size=\"large\" variant=\"contained\" color=\"primary\">\n                { getText(\"ok\") }\n        </Button>      \n        </form>\n}","export default interface Player{\n    nickname: string,\n    serialNumber: number\n    roomCode?: string,\n    state: string\n}\n\nconst PlayerStates = {\n    IdleState: \"\",\n\tReadyState: \"ready\",\n\tWordReadingState: \"reading\",\n\tListeningState: \"listening\",\n\tTalkingState:\"talking\",\n\tVotingState: \"voting\",\n\tKilledState: \"killed\",\n\tWinState: \"win\",\n    LoseState: \"lose\",\n    VotedState: \"voted\",\n    WordChangingState:\"wordChanging\",\n    AppearAwayState: \"offline\"\n}\n\nexport {PlayerStates}","import PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport { useContext } from \"react\";\nimport { Typography, Grid, Badge } from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {PlayerStates} from \"../../Interfaces/Player\"\nimport { LanguageContextType, LanguageContext } from \"../../Contexts/LanguageContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: '1rem'\n    },\n    me: {\n        backgroundColor: '#898989'\n    },\n    others: {\n        backgroundColor: '#343434'\n    },\n    new: {\n        backgroundColor: '#898989',\n        width: 'fit-content'\n    },\n    player: {\n        backgroundColor: 'inherit',\n        width: 'fit-content',\n        borderRadius: '5px'\n    },\n    playerName: {\n        textAlign: \"center\"\n    },\n    killed: {  \n        filter: \"grayscale(100%)\"\n    },\n    offline: {\n        filter: \"blur(3px)\"\n    }\n}))\n\nexport default function PlayerList() {\n    const classes = useStyles()\n    const {nickname, playersInRoom, roomCapacity} = useContext(RoomContext) as RoomContextType\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const spotNum = (roomCapacity || 0) - (playersInRoom?.length || 0)\n    const badgeColor = (state:string) => {\n        if (state === PlayerStates.TalkingState) {\n            return \"secondary\"\n        }\n\n        if (state === PlayerStates.KilledState) {\n            return \"default\"\n        }\n\n        if (state === PlayerStates.AppearAwayState) {\n            return \"default\"\n        }\n\n        return \"primary\"\n    }\n\n    return <Grid container spacing={1} className={classes.root}>\n            {\n                playersInRoom && playersInRoom.sort((a, b) => a.serialNumber - b.serialNumber).map((p, i) => (\n                    <Grid xs={3} item key={i} className={`${classes.player} ${(i === playersInRoom.length - 1)? classes.new: \"\"}`}>\n                        <Badge color={badgeColor(p.state)} badgeContent={p.state? getText(p.state): 0}>\n                            <PlayerAvatar nickname={p.nickname} size=\"large\" className={`${(p.nickname === nickname)? classes.me : classes.others} ${p.state === PlayerStates.KilledState && classes.killed} ${p.state === PlayerStates.AppearAwayState && classes.offline}`}/>\n                        </Badge>\n                        <Typography className={classes.playerName}>\n                            {\n                                nickname === p.nickname ?`${p.nickname} (${getText(\"you\")})`: p.nickname\n                            }\n                        </Typography>\n                    </Grid>))}\n            {\n                spotNum > 0 && [...Array(spotNum)].map((_, i) => (\n                    <Grid xs={3} item key={i} className={classes.player}>\n                        <PlayerAvatar size=\"large\" stayLoading/>\n                        <Skeleton width={50} height={23.64} style={{margin: \"0 auto\"}} animation=\"wave\"/>\n                    </Grid>))}\n        </Grid>\n}","import { Alert } from \"@material-ui/lab\"\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\nimport {makeStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: \"fixed\",\n        top: \"-3.5rem\",\n        left: 0,\n        right: 0,\n        width: \"100%\",\n        height: \"3em\",\n    }\n}))\n\ninterface RoomTopAlertProps{\n    alertLine: string\n    type?: \"success\"|\"error\"|\"warning\"|\"info\"\n}\n\nexport default function RoomTopAlert({ alertLine, type }:RoomTopAlertProps) {\n    const classes = useStyles()\n    return <Alert severity={ type } className={classes.root} iconMapping={{ success: <PersonPinIcon fontSize=\"inherit\" />, \n                                                                            error:  <PersonPinIcon fontSize=\"inherit\" />,\n                                                                            warning:  <PersonPinIcon fontSize=\"inherit\" />}}>\n        { alertLine }\n    </Alert>\n}","import { useState, useContext } from \"react\";\nimport { Card, CardActionArea, CardActions, CardContent, Typography, Button } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\n\ninterface WordCardProps{\n    word: string\n    central?: boolean\n    onRead: () => void\n    defaultHide?: boolean\n}\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        width: \"100%\",\n        height: \"10rem\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-end\",\n        position: \"absolute\",\n        top: \"3rem\",\n        margin: \"0 auto\",\n        zIndex: 100\n    },\n    invisible: {\n        width: \"6rem\",\n        height:\"4rem\"\n    },\n    wordArea: {\n        height: \"7rem\"\n    },\n    cardArea: {\n        height: \"100%\"\n    },\n    side:{\n        width: \"7rem\",\n        height: \"5rem\",\n        position: \"absolute\",\n        bottom: \"0\",\n        right: \"0\"\n    }\n}))\n\nexport default function WordCard({word, central, onRead, defaultHide}: WordCardProps) {\n    const [visible, setVisible] = useState(true && !defaultHide)\n    const classes = useStyles()\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n\n    const onClickGotIt = () => {\n        setVisible(false)\n        onRead()\n    }\n\n    if (visible) {\n        return <Card className = {classes.main}>\n            <CardActionArea onClick={onClickGotIt} className={classes.wordArea}>\n                <CardContent>\n                <Typography variant=\"caption\" component=\"h1\" style={{textAlign: \"left\", paddingLeft:\"1em\"}}>\n                        {getText(\"yourWord\")}\n                    </Typography>\n                    <Typography variant=\"h4\" component=\"h1\">\n                        {word}\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button color=\"secondary\" onClick={onClickGotIt}>\n                    {getText(\"gotIt\")}\n                </Button>\n            </CardActions>\n        </Card>\n    } \n\n    return <Card className={central? classes.main : classes.side}>\n            <CardActionArea onClick={() => setVisible(true)} className={classes.cardArea}>\n                <VisibilityIcon style={{fontSize: (central? \"4rem\":\"2rem\")}}/> \n                <Typography>\n                    {getText(\"seeWord\")}\n                </Typography>\n            </CardActionArea>\n        </Card>\n}","import { FormControl, FormControlLabel, Radio, RadioGroup, Button, Typography, Card, CardContent } from \"@material-ui/core\";\nimport { useState, useContext } from \"react\"\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\n\nexport function VoteCard() {\n    const [target, setTarget] = useState(\"\")    \n    const {onVote, voteTargets} = useContext(RoomContext) as RoomContextType\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setTarget((event.target as HTMLInputElement).value);\n      };\n\n    return <Card style={{position: \"relative\", left: \"-10%\", width: \"120%\"}}>\n        <CardContent>\n            <Typography variant=\"h5\">\n                {getText(\"pleaseVote\")}\n            </Typography>\n        <form style={{marginTop: \"1rem\"}}>\n            <FormControl component=\"fieldset\">\n            <RadioGroup row aria-label=\"vote\" name=\"vote\" value={target} onChange={handleChange} > \n                {                               \n                    voteTargets.map((n, i) => (\n                        <div key={i} style={{display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", alignItems:\"center\", padding:5}}>\n                            <div onClick={() => {setTarget(n)}}>\n                                <PlayerAvatar nickname={n} size=\"large\"/>\n                            </div>\n                            <FormControlLabel \n                                value={n} control={<Radio color=\"primary\"/>}\n                                label={<div>\n                                            <Typography>\n                                                {n}\n                                            </Typography>\n                                        </div>}/>\n                        </div>)\n                    )\n                }\n            </RadioGroup>\n            </FormControl>\n            <Button onClick={() => onVote(target)} color=\"primary\" variant=\"contained\" style={{marginTop: \"1rem\"}}>\n                {getText(\"submitVote\")}\n            </Button>\n        </form>    \n        </CardContent>\n    </Card> \n}","import {Card, CardContent, Typography, makeStyles} from \"@material-ui/core\"\nimport PlayerAvatar from \"../Shared/PlayerAvatar\"\n\ninterface InstructionCardProps {\n    nickname?: string\n    instruction: string\n    children?: JSX.Element\n    killed?: boolean\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\",\n        position: \"absolute\",\n        top: \"3rem\",\n        margin: \"0 auto\",\n        zIndex: 2\n    },\n    cardContent: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    instruction: {\n        marginLeft:\"1rem\"\n    },\n    children: {\n        marginTop: 3\n    },\n    killed: {  \n        filter: \"grayscale(100%)\"\n    }\n}))\n\nexport default function InstructionCard({nickname, instruction, children, killed}: InstructionCardProps){\n    const classes = useStyles()\n    return <Card className={classes.root}>\n        <CardContent className={classes.cardContent}>\n            {nickname && <PlayerAvatar size=\"medium\" nickname={nickname} className={(killed && classes.killed) || \"\"}/>}\n            <div className={classes.instruction}>\n                <Typography variant=\"h6\">\n                    {instruction}\n                </Typography>\n                {\n                    children &&  <div className={classes.children}>\n                        {children}\n                    </div>\n                }\n            </div>\n         </CardContent>\n    </Card>\n}","import { useContext, useState, useEffect } from \"react\"\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\"\nimport { Button, CircularProgress, Typography } from \"@material-ui/core\"\nimport MoodBadOutlinedIcon from '@material-ui/icons/MoodBadOutlined';\nimport WordCard from \"./WordCard\"\nimport ContentContainer from \"../Shared/ContentContainer\"\nimport { PlayerStates } from \"../../Interfaces/Player\"\nimport { VoteCard } from \"./VoteCard\"\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\nimport InstructionCard from \"./InstructionCard\"\nimport RoomTopAlert from \"../Room/RoomTopAlert\"\nimport PlayerList from \"../Room/PlayerList\";\n\nexport default function Play() {\n    const {word, onTalkFinish, onWordRead, instruction, playersInRoom, alertLine, alertType, changeWord,\n        nickname, reportResultReceived, connected} = useContext(RoomContext) as RoomContextType\n    const { getCurrentLanguage, getText } = useContext(LanguageContext) as LanguageContextType\n    const [playerState, setPlayerState] = useState(PlayerStates.IdleState)\n    const history = useHistory()\n    const { code } = useParams<{code?: string}>()\n\n    useEffect(() => {\n        setPlayerState((playersInRoom?.find(p => p.nickname === nickname)?.state) || PlayerStates.IdleState)\n    }, [playersInRoom, nickname])\n\n    const onResultReceived = () => {\n        reportResultReceived()\n        history.push(`/${getCurrentLanguage()}/room/${code}`)\n    }\n\n    if (!connected) {\n        return <ContentContainer>\n            <div>\n                <InstructionCard instruction={getText(\"youLookDisconnected\")}>\n                    <div>\n                    <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => {history.push(`/${getCurrentLanguage()}`)}}>\n                        {getText(\"backToHomepage\")}\n                    </Button>\n                    </div>\n                </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.WordReadingState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <WordCard word={word} onRead={onWordRead} central/>\n                <Button size=\"small\" style={{position: \"absolute\", bottom: \"1rem\", left: \"1rem\"}} onClick={changeWord}>\n                    {getText(\"changeWord\")}\n                </Button>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.WordChangingState) {\n        let requesterName = (alertLine && alertLine.split(\" requested\")[0]) || \"Someone\"\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard nickname={requesterName} instruction={`Picking new words for you ...`}>\n                    <CircularProgress/>\n                </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.TalkingState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard nickname={nickname} instruction={\"Your turn to talk\"}>\n                    <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => {onTalkFinish();}}>I finish</Button>\n                </InstructionCard>\n                <WordCard word={word} onRead={onWordRead} defaultHide/>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.ListeningState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard nickname={playersInRoom?.find(p => p.state === PlayerStates.TalkingState)?.nickname} instruction={instruction}/>\n                <WordCard word={word} onRead={onWordRead} defaultHide/>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.VotingState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <VoteCard/>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.VotedState) {\n        return <ContentContainer>\n            <div>\n            {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n            <InstructionCard instruction={getText(\"waitingVote\")}>\n                <CircularProgress/>\n            </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.LoseState || playerState === PlayerStates.WinState) {\n        return <ContentContainer>\n            <div>\n            {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n            <InstructionCard instruction={instruction}>\n                <div>\n                    {playerState === PlayerStates.LoseState && <Typography variant=\"h2\" color=\"secondary\">\n                        You lose\n                        <MoodBadOutlinedIcon style={{paddingLeft: \"0.5rem\"}}/>\n                    </Typography>}\n                    {playerState === PlayerStates.WinState && <Typography variant=\"h2\">You win!!</Typography>}\n                    <Button onClick={() => {onResultReceived();}} variant=\"contained\" size=\"small\" color=\"primary\">\n                        OK\n                    </Button>\n                </div>\n            </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.KilledState) {\n        return <ContentContainer>\n                 <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <PlayerList/>\n                </div>\n        </ContentContainer>\n    }\n\n    else {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard instruction={instruction || `Unexpected state ${playerState}`}>\n                    <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => {history.push(`/${getCurrentLanguage()}`)}}>\n                        {getText(\"backToHomepage\")}\n                    </Button>\n                </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n}","import { useParams, useHistory } from \"react-router-dom\";\nimport { useContext } from \"react\"\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\nimport { Typography, Modal, Paper, Button, CircularProgress} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport NamePlayerForRoom from \"./NamePlayerForRoom\";\nimport ContentContainer from \"../Shared/ContentContainer\"\nimport PlayerList from \"./PlayerList\";\nimport RoomTopAlert from \"./RoomTopAlert\"\nimport Play from \"../Play/Play\"\nimport {PlayerStates} from \"../../Interfaces/Player\"\nimport InstructionCard from \"../Play/InstructionCard\";\n\nconst useStyle = makeStyles(theme => ({\n    modalBody: {\n        padding: theme.spacing(2, 4, 3),\n        [theme.breakpoints.up('sm')]: {\n            width: \"320px\",\n            height:\"150px\",\n            margin: \"100px auto\"        \n        },\n        [theme.breakpoints.down('sm')]: {\n            width: \"240px\",\n            height: \"150px\",\n            margin: \"150px auto\"        \n        },\n    },\n    modalButton: {\n        marginLeft: \"200px\"\n    },\n    marginBottom: {\n        marginBottom: \"1rem\"\n    },\n    marginTop: {\n        marginTop: \"1rem\"\n    }\n}))\n\nexport const RoomStates = {\n    IdleState: \"idle-state\",\n    GameOnState: \"game-on\"\n}\n\nexport default function Room(){\n    const { nickname, setNickname, onDisconnectFromRoom: onExitRoom, alertLine, alertType, joinFailedMessage, roomState,\n        setJoinFailedMessage, roomCapacity, playersInRoom, getReady, undoReady } = useContext(RoomContext) as RoomContextType\n    const { getText, getCurrentLanguage } = useContext(LanguageContext) as LanguageContextType\n    const { code } = useParams<{code?: string}>()\n    const { state } = useParams<{state?: string}>()\n    const classes = useStyle()\n    const history = useHistory()\n    const onModalClose = () => {\n        setJoinFailedMessage && setJoinFailedMessage(\"\")\n        setNickname(\"\")\n    }\n\n    if (state === \"play\") {\n        return <Play/>\n    }\n\n    if (!nickname) {\n        return <ContentContainer allowExit>\n                <NamePlayerForRoom />\n            </ContentContainer>\n    }\n\n    if (roomState === RoomStates.GameOnState) {\n        setTimeout(() => {\n            history.push(`/${getCurrentLanguage()}/room/${code}/play`)\n        }, 3000)\n        return <ContentContainer allowExit onExit={onExitRoom}> \n            <div>\n                <CircularProgress size=\"5rem\" className={classes.marginBottom}/>\n                <Typography variant=\"h5\" className={classes.marginTop}>\n                    {getText(\"gameStarting\")}\n                </Typography>         \n            </div>\n        </ContentContainer>\n    }\n\n    if (playersInRoom?.find(p => p.nickname === nickname)?.state === PlayerStates.WinState) {\n\n        return <ContentContainer>\n           <InstructionCard nickname={nickname} instruction=\"Well done :)\"/>\n        </ContentContainer>\n    }\n\n    if (playersInRoom?.find(p => p.nickname === nickname)?.state === PlayerStates.LoseState) {\n        return <ContentContainer>\n            <InstructionCard nickname={nickname} instruction=\"Better luck next time\"/>\n        </ContentContainer>\n    }\n\n    return <> \n        <Modal\n            open={joinFailedMessage !== \"\"}\n            onClose={onModalClose}\n            aria-labelledby=\"join-room-failed\"\n            aria-describedby=\"join-room-failed\"\n            >\n                <Paper className={classes.modalBody}>\n                    <h2>\n                        {getText(\"failJoinRoom\")}\n                    </h2>\n                    <p>\n                        {joinFailedMessage}\n                    </p>\n                    <Button onClick={onModalClose} className={classes.modalButton}>\n                        {getText(\"ok\")}\n                    </Button>\n                </Paper>\n        </Modal>\n        <ContentContainer allowExit onExit={onExitRoom}> \n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <Typography variant=\"h4\" className={classes.marginBottom}>\n                    {getText(\"room\", code)}\n                </Typography>\n                <PlayerList/>\n                {\n                    playersInRoom && roomCapacity && (roomCapacity === playersInRoom?.length) && (\n                        playersInRoom.find(p => p.nickname === nickname)?.state === PlayerStates.ReadyState ?\n                    <Button size=\"large\" variant=\"contained\" color=\"secondary\"  className={classes.marginTop} onClick={undoReady}>\n                        {getText(\"notReady\")}\n                    </Button>:\n                     <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.marginTop} onClick={getReady}>\n                        {getText(\"imReady\")}\n                    </Button>)\n                }\n            </div>\n        </ContentContainer>\n    </>\n}","import React, {useState, useRef, useEffect, useCallback, useContext} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { BroadcastActions, BroadcastMessage, ReportActions } from \"../Interfaces/Messages\";\nimport { CallApi } from \"../Utils/Api\"\nimport {AytMessage} from \"../Interfaces/Messages\"\nimport Player from \"../Interfaces/Player\"\nimport { RoomStates } from \"../Components/Room/Room\";\nimport ReconnectingWebSocket from 'reconnecting-websocket';\nimport { LanguageContext, LanguageContextType } from \"./LanguageContext\"\n\nconst RoomContext = React.createContext<any>(undefined)\n\ninterface RoomContextProp {\n    children:JSX.Element,\n}\n\nexport type RoomContextType = {\n    id?: number,\n    nickname?: string,\n    setId: (id: number) => void\n    setNickname: (name: string) => void\n    getAvatarPath: () => string\n    onDisconnectFromRoom?: () => void\n    playersInRoom?: [Player]\n    alertLine?: string\n    joinFailedMessage?: string\n    setJoinFailedMessage?: (s: string) => void\n    roomCapacity?: number\n    getReady?: () => void\n    undoReady?: () => void\n    word: string\n    onVote: (n: string) => void\n    onTalkFinish: () => void\n    onWordRead: () => void\n    playerState: string\n    instruction: string\n    voteTargets: [string]\n    roomState: string\n    setRoomState: (s: string) => void\n    reportResultReceived: () => void\n    alertType?: \"success\"|\"warning\"|\"error\"|\"info\"\n    changeWord: () => void\n    connected: boolean\n}\n\nfunction RoomProvider({ children }: RoomContextProp){\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const { code } = useParams<{code?: string}>()\n    const [id, setId] = useState(undefined)\n    const [nickname, setNickname] = useState(\"\")\n    const [connected, setConnected] = useState(false)\n    const [alertLine, setAlertLine] = useState(\"\")\n    const [playersInRoom, setPlayersInRoom] = useState<Player[]>()\n    const [joinFailedMessage, setJoinFailedMessage] = useState(\"\")\n    const [roomCapacity, setRoomCapacity] = useState(0)\n    const [word, setWord] = useState(\"\")\n    const [instruction, setInstruction] = useState(\"\")\n    const [wordRead, setWordRead] = useState(false)\n    const [voteTargets, setVoteTargets] = useState<[string]>()\n    const [roomState, setRoomState] = useState(RoomStates.IdleState)\n    const [alertType, setAlertType] = useState(\"success\")\n    const ws = useRef<ReconnectingWebSocket|null>(null);\n\n    const handleMessage = useCallback((message:BroadcastMessage) => {\n        message.instruction && setInstruction(getText(message.instruction, message.arg))\n        if (message.alert){\n            message.alertType && setAlertType(message.alertType)\n            setAlertLine(getText(message.alert, message.arg))\n            setTimeout(()=>setAlertLine(\"\"), 2500)\n        } \n\n        if (message.action === BroadcastActions.PlayerNewStateBroadcast) {\n            let players: [Player] = JSON.parse(message.payload) \n            setPlayersInRoom(players)\n        }\n\n        if (message.action === BroadcastActions.PlayerJoinedBroadcast || \n            message.action === BroadcastActions.PlayerLeftBroadcast) {\n            setPlayersInRoom(JSON.parse(message.payload))\n        }\n\n        if (message.action === BroadcastActions.GameWillStartBroadcast) {\n            setRoomState(RoomStates.GameOnState)\n        }\n\n        if (message.action === BroadcastActions.YourWordBroadcast) {\n            setWord(message.payload)\n            setWordRead(false)\n        }\n\n        if (message.action === BroadcastActions.AskVoteBroadcast) {\n            setVoteTargets(JSON.parse(message.payload))\n        }\n\n    }, [getText]);\n\n    const changeWord = useCallback(() => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.ChangeWordAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onDisconnectFromRoom = useCallback(() => {\n        if(roomState === RoomStates.GameOnState) {\n            nickname && localStorage.setItem(\"nickname\", nickname)\n            code && localStorage.setItem(\"roomCode\", code)\n        }\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.PlayerExitAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code, roomState])\n\n    const onVote = useCallback((target:string) => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.VoteAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: target\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onTalkFinish = useCallback(() => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.TalkFinishAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onWordRead = useCallback(() => {\n        if (wordRead) {\n            return\n        }\n        setWordRead(true)\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.WordReadAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code, wordRead])\n\n    const getReady = useCallback(() => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.PlayerReadyAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n        }, [ws, nickname, code])\n    \n    const undoReady = useCallback(async () => {\n        ws?.current?.send(\n            JSON.stringify({\n                action: ReportActions.PlayerUndoReadyAction,\n                senderNickname: nickname,\n                roomCode: code,\n                payload: \"\"\n            })\n            )\n        }, [ws, nickname, code])\n\n    const reportResultReceived= useCallback(async () => {\n        setRoomState(RoomStates.IdleState)\n        setWord(\"\")\n        ws?.current?.send(\n            JSON.stringify({\n                action: ReportActions.ResultReceived,\n                senderNickname: nickname,\n                roomCode: code,\n                payload: \"\"\n            })\n            )\n    }, [ws, nickname, code])\n\n    useEffect(() => {\n        if (nickname && code && !connected){\n            CallApi({path: `ayt?nickname=${nickname}&roomcode=${code}` })\n            .then((m: AytMessage) => {\n                if (m.line) {\n                    setJoinFailedMessage(m.line)\n                    return\n                }\n\n                m.numPlayer && setRoomCapacity(m.numPlayer)\n\n                ws.current = new ReconnectingWebSocket(`ws://${process.env.REACT_APP_API_BASE_URL}/ws?nickname=${nickname}&roomcode=${code}`)\n                ws.current.onopen = () => {\n                    console.log(\"connected\");\n                    setConnected(true);\n                };\n                ws.current.onmessage = (evt) => {\n                    handleMessage(JSON.parse(evt.data));\n                };\n                ws.current.onclose = () => {\n                    onDisconnectFromRoom()\n                    console.log(\"disconnected\");\n                    // setConnected(false);\n            }})\n        }\n    }, [onDisconnectFromRoom, handleMessage, code, nickname, ws, connected])\n\n    return <RoomContext.Provider value={\n        {\n            id,\n            setId,\n            nickname,\n            setNickname,\n            onDisconnectFromRoom,\n            playersInRoom,\n            alertLine,\n            joinFailedMessage,\n            setJoinFailedMessage,\n            roomCapacity,\n            getReady,\n            undoReady,\n            roomState,\n            setRoomState,\n            word,\n            onVote,\n            onTalkFinish,\n            onWordRead,\n            instruction,\n            voteTargets,\n            reportResultReceived,\n            alertType,\n            changeWord,\n            connected\n        }\n    }>\n        {children}\n    </RoomContext.Provider>\n}\n\nexport {RoomProvider, RoomContext}\n","import NewRoom from './EnterGame/NewRoom';\nimport JoinRoom from './EnterGame/JoinRoom';\nimport Contribute from './Contribute/Contribute';\nimport EnterGameOptions from './EnterGame/EnterGameOptions';\nimport { RoomProvider } from \"../Contexts/RoomContext\";\nimport Room from './Room/Room';\nimport {\n    Switch,\n    Route,\n    useRouteMatch\n  } from \"react-router-dom\";\n\nexport default function GameRoute(){\n    const match = useRouteMatch();\n\n   return  <Switch>\n                <Route path={`${match.path}/new-room`}>\n                    <NewRoom/>\n                </Route>\n                <Route path={`${match.path}/join-room`}>\n                    <JoinRoom/>\n                </Route>\n                <Route path={`${match.path}/contribute`}>\n                    <Contribute/>\n                </Route>\n                <Route path={`${match.path}/room/:code/:state?`}>\n                    <RoomProvider>\n                        <Room/>\n                    </RoomProvider>\n                </Route>\n                <Route path={match.path}>\n                    <EnterGameOptions/>\n                </Route>\n            </Switch>\n}","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport ChooseLanguage from \"./Components/EnterGame/ChooseLanguage\";\nimport {LanguageProvider} from \"./Contexts/LanguageContext\";\nimport GameRoute from \"./Components/GameRoute\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    }\n  })\n  return (\n    <ThemeProvider theme={theme}>\n        <Router>\n            <Switch>\n              <Route path=\"/en\">\n                <LanguageProvider language={\"en\"}>\n                  <GameRoute/>\n                </LanguageProvider>\n              </Route>\n              <Route path=\"/cn\">\n                <LanguageProvider language={\"cn\"}>\n                  <GameRoute/>\n                </LanguageProvider>\n              </Route>\n              <Route path=\"/\">\n                <ChooseLanguage />\n              </Route>\n            </Switch>\n        </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}