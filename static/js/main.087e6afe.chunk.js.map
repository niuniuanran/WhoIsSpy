{"version":3,"sources":["Components/Shared/OptionButtonBig.tsx","Contexts/LanguageContext.tsx","Components/Shared/ContentContainer.tsx","Components/EnterGame/ChooseLanguage.tsx","Components/EnterGame/NumSettingSliders.tsx","Components/EnterGame/RoomInfoEnter.tsx","Utils/Api.tsx","Components/EnterGame/NewRoom.tsx","Components/EnterGame/JoinRoom.tsx","Components/Contribute/Contribute.tsx","Components/EnterGame/EnterGameOptions.tsx","Interfaces/Messages.ts","Components/Shared/PlayerAvatar.tsx","Components/Room/NamePlayerForRoom.tsx","Interfaces/Player.ts","Components/Room/PlayerList.tsx","Components/Room/RoomTopAlert.tsx","Components/Play/WordCard.tsx","Components/Play/VoteCard.tsx","Components/Play/InstructionCard.tsx","Components/Play/GameAnswer.tsx","Components/Play/Play.tsx","Components/Room/Room.tsx","Contexts/RoomContext.tsx","Components/GameRoute.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","option","height","width","fontSize","iconSpan","paddingRight","OptionButtonBig","text","path","icon","classes","history","useHistory","Grid","item","xs","Button","variant","size","color","className","onClick","push","LanguageContext","React","createContext","undefined","LanguageProvider","language","children","textDisplay","newRoom","en","cn","joinRoom","addWords","randomBlank","eighteenPlus","back","spyPlural","spySingular","total","roomCode","enRoom","cnRoom","enterRoom","roomFull","createRoom","confirm","ok","youNickname","exit","findRoom","failJoinRoom","changeWord","backToHomepage","youLookDisconnected","waitingVote","you","imReady","notReady","gameStarting","ready","reading","listening","talking","voting","killed","win","lose","voted","wordChanging","offline","yourWord","gotIt","seeWord","pleaseVote","submitVote","noAlivePlayers","gotTies","youWin","youLose","goodWin","spiesWin","spyIs","spiesAre","spyWord","goodWord","issueOrPr","connectWithMe","textDisplayFuncs","room","arg","isReady","isNotReady","appearAway","turnToTalk","isKilled","requestChangeWord","joined","left","Provider","value","getText","key","getCurrentLanguage","root","flexGrow","textAlign","margin","padding","boxSizing","palette","secondary","backgroundColor","content","spacing","position","top","msTransform","transform","ContentContainer","allowBack","allowExit","onExit","languageContext","useContext","container","md","aria-label","style","fontWeight","goBack","ChooseLanguage","PlayerNumSlider","withStyles","track","thumb","border","rail","opacity","bottom","valueLabel","marginTop","marginLeft","Slider","SpyNumSlider","mark","NumSettingSliders","roomSettings","setRoomSettings","numPlayer","onChange","e","newValue","defaultValue","getAriaValueText","v","aria-labelledby","step","min","max","marks","valueLabelDisplay","valueLabelFormat","numSpy","codeDisplay","breakpoints","up","skeleton","RoomInfoEnter","loading","code","capacity","currentPlayerNum","roomLanguage","marginBottom","Typography","align","paragraph","display","Array","map","_","i","Skeleton","animation","split","c","disabled","CallApi","a","payload","method","headers","axios","url","process","data","formGroup","submitButton","NewRoom","useState","error","setError","createdRoomInfo","setCreatedRoomInfo","FormGroup","FormControlLabel","control","Checkbox","checked","target","name","label","then","catch","JoinRoom","setRoomCode","roomInfoFound","setRoomInfoFound","TextField","id","autoFocus","inputProps","maxLength","minLength","CircularProgress","preventDefault","j","type","link","textDecoration","Contribute","ContributionLink","important","href","rel","EnterGameOptions","match","useRouteMatch","BroadcastActions","ReportActions","createStyles","flexDirection","justifyContent","alignItems","xlarge","large","medium","small","xsmall","avatar","PlayerAvatar","nickname","stayLoading","imageName","setImageName","Avatar","alt","src","onLoad","NamePlayerForRoom","setNickname","RoomContext","tryNickname","setTryNickname","useParams","useEffect","localStorage","getItem","clear","autoComplete","onInput","targetInput","required","PlayerStates","me","others","new","player","borderRadius","playerName","filter","PlayerList","playersInRoom","roomCapacity","spotNum","length","sort","b","serialNumber","p","Badge","state","badgeContent","right","RoomTopAlert","alertLine","Alert","severity","iconMapping","success","warning","main","zIndex","invisible","wordArea","cardArea","side","WordCard","word","central","onRead","defaultHide","visible","setVisible","onClickGotIt","Card","CardActionArea","CardContent","component","paddingLeft","CardActions","VoteCard","setTarget","onVote","voteTargets","FormControl","RadioGroup","row","event","n","Radio","cardContent","instruction","InstructionCard","list","wordPaper","marginRight","GameAnswer","spyNames","answer","setAnswer","JSON","parse","WordAnswer","good","SpyList","Box","m","Paper","elevation","spyList","Play","onTalkFinish","onWordRead","alertType","reportResultReceived","connected","playerState","setPlayerState","find","requesterName","useStyle","modalBody","down","modalButton","RoomStates","Room","onExitRoom","onDisconnectFromRoom","joinFailedMessage","roomState","setJoinFailedMessage","getReady","undoReady","onModalClose","setTimeout","Modal","open","onClose","aria-describedby","RoomProvider","setId","setConnected","setAlertLine","setPlayersInRoom","setRoomCapacity","setWord","setInstruction","wordRead","setWordRead","setVoteTargets","setRoomState","setAlertType","setArg","ws","useRef","handleMessage","useCallback","message","alert","action","console","log","players","current","send","stringify","senderNickname","readyState","CLOSED","OPEN","line","WebSocket","onopen","onmessage","evt","onclose","GameRoute","App","createMuiTheme","ThemeProvider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.087e6afe.chunk.js","sourcesContent":["import { Grid, Button } from \"@material-ui/core\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    option: {\n        height: '5rem',\n        width: '15rem',\n        fontSize: '1.5rem'\n    },\n    iconSpan: {\n        fontSize: '2rem',\n        paddingRight: '1rem'\n    }\n  }));\n\ninterface OptionProps {\n    text: string,\n    path: string,\n    icon?: JSX.Element\n}\n\nexport default function OptionButtonBig({text, path, icon}:OptionProps){\n    const classes = useStyles()\n    const history = useHistory()\n\n    return <Grid item xs={12}>\n                <Button variant=\"contained\" size=\"large\" color=\"primary\" className={classes.option} onClick={()=>{history.push(path)}}>\n                    <span className={classes.iconSpan}>\n                        {icon}\n                    </span>\n                    <span> \n                        {text}\n                    </span>\n                </Button>\n            </Grid>\n}","import React from \"react\";\n\ninterface LanguageContextProp {\n    language:string,\n    children:JSX.Element\n}\nconst LanguageContext = React.createContext<any>(undefined)\nexport type LanguageContextType = {\n    language: string,\n    getText: (key:string, arg?:string) => string,\n    getCurrentLanguage: () => string\n}\n\nfunction LanguageProvider({language, children}:LanguageContextProp){\n    \n    const textDisplay:{ [name: string]: {[language:string]:string}}={\n        newRoom: {\n            en: \"New room\",\n            cn: \"新建房间\",\n        },\n        joinRoom:{\n            en: \"Join room\",\n            cn: \"加入房间\"\n        },\n        addWords:{\n            en: \"Contribute\",\n            cn: \"贡献词条\"\n        },\n        randomBlank: {\n            en: \"Spy can be blank\",\n            cn: \"卧底可以是白板\"\n        },\n        eighteenPlus: {\n            en: \"Allow 18+ words\",\n            cn: \"允许成人词汇\"\n        },\n        back: {\n            en: \"Back\",\n            cn: \"返回\"\n        },\n        spyPlural: {\n            en: \"spies\",\n            cn: \"个卧底\"\n        },\n        spySingular: {\n            en: \"spy\",\n            cn: \"个卧底\"\n        },\n        total: {\n            en: \"total\",\n            cn: \"个玩家\"\n        },\n        roomCode: {\n            en: \"Room code\",\n            cn: \"房间号\"\n        },\n        enRoom: {\n            en: \"Room in English\",\n            cn: \"英文房间\"\n        },\n        cnRoom: {\n            en: \"Room in Chinese\",\n            cn: \"中文房间\"\n        },\n        enterRoom: {\n            en: \"Enter room\",\n            cn: \"进入房间\"\n        },\n        roomFull: {\n            en: \"Room is full\",\n            cn: \"房间已满\"\n        },\n        createRoom: {\n            en: \"Create room\",\n            cn: \"创建房间\"\n        },\n        confirm: {\n            en: \"OK\",\n            cn: \"确认\"\n        },\n        ok: {\n            en: \"OK\",\n            cn: \"好的\"\n        },\n        youNickname: {\n            en: \"Your nickname\",\n            cn: \"你的昵称\"\n        },\n        exit: {\n            en: \"Exit\",\n            cn: \"退出\"\n        },\n        findRoom: {\n            en: \"Find room\",\n            cn: \"查找房间\"\n        },\n        failJoinRoom: {\n            en: \"Failed to join room\",\n            cn: \"加入房间失败\"\n        },\n        changeWord: {\n            en: \"Change words\",\n            cn: \"换词\"\n        },\n        backToHomepage: {\n            en: \"Back to homepage\",\n            cn: \"返回主页\"\n        },\n        youLookDisconnected:{\n            en: \"You look disconnected...\",\n            cn: \"你好像掉线了🤔\"\n        },\n        waitingVote:{\n            en: \"Waiting for other players to vote\",\n            cn: \"正在等待其他玩家投票\"\n        },\n        you: {\n            en: \"you\",\n            cn: \"你\"\n        },\n        imReady: {\n            en:\"I'm ready\",\n            cn:\"准备\"\n        },\n        notReady: {\n            en:\"I'm not ready\",\n            cn:\"没准备好\"\n        },\n        gameStarting:{\n            en: \"Game starting...\",\n            cn: \"游戏即将开始...\"\n        },\n        ready: {\n            en: \"ready\",\n            cn: \"准备\"\n        },\n        reading: {\n            en: \"reading\",\n            cn: \"读词中\"\n        },\n        listening: {\n            en: \"\",\n            cn: \"\"\n        },\n        talking: {\n            en: \"talking\",\n            cn: \"发言中\"\n        },\n        voting: {\n            en: \"voting\",\n            cn: \"投票中\"\n        },\n        killed: {\n            en: \"killed\",\n            cn: \"被杀\"\n        },\n        win: {\n            en: \"win\",\n            cn: \"胜利\"\n        },\n        lose: {\n            en: \"lose\",\n            cn: \"失败\"\n        },\n        voted: {\n            en: \"voted\",\n            cn: \"已投票\"\n        },\n        wordChanging:{\n            en: \"\",\n            cn: \"\"\n        },\n        offline: {\n            en: \"offline\",\n            cn: \"掉线\"\n        },\n        yourWord: {\n            en: \"Your word:\",\n            cn: \"你的词是：\"\n        },\n        gotIt: {\n            en: \"Got it\",\n            cn: \"好的\"\n        },\n        seeWord:{\n            en: \"See word\",\n            cn: \"显示词语\"\n        },\n        pleaseVote: {\n            en: \"Please vote\",\n            cn: \"请投票\"\n        },\n        submitVote: {\n            en: \"Vote\",\n            cn: \"提交\"\n        },\n        noAlivePlayers: {\n            en: `No alive players in room`,\n            cn: `已没有存活玩家`\n        },\n        gotTies: {\n            en: \"Got ties. Please continue to vote\",\n            cn: \"平票，请继续投票\"\n        },\n        youWin: {\n            en: \"You win\",\n            cn: \"你赢啦\"\n        },\n        youLose: {\n            en: \"You lose\",\n            cn: \"你输了\"\n        },\n        goodWin: {\n            en: \"Good people win!\",\n            cn: \"好人胜利！\"\n        },\n        spiesWin: {\n            en: `Spies win!`,\n            cn: `卧底胜利！`,\n        },\n        spyIs: {\n            en: \"The spy is \",\n            cn: \"卧底是\"\n        },\n        spiesAre: {\n            en: \"The spies are \",\n            cn: \"卧底是\"\n        },\n        spyWord: {\n            en: \"Spy word\",\n            cn: \"卧底词\"\n        },\n        goodWord: {\n            en: \"Good word\",\n            cn: \"好人词\"\n        },\n        issueOrPr: {\n            en: \"Submit an issue/PR\",\n            cn: \"提交issue或PR\"\n        },\n        connectWithMe: {\n            en: \"Connect with me\",\n            cn: \"与我联系\"\n        }\n    }\n\n    const textDisplayFuncs: { [name: string]: {[language:string]:(arg:string)=>string}}={\n        room:{\n            en: (arg:string) => `Room ${arg}`,\n            cn: (arg: string) => `${arg} 房间`\n        },\n        isReady:{\n            en: (arg:string) => `${arg} is ready`,\n            cn: (arg: string) => `玩家 ${arg} 准备`\n        },\n        isNotReady:{\n            en: (arg:string) => `${arg} is not ready`,\n            cn: (arg: string) => `玩家 ${arg} 撤销准备`\n        },\n        appearAway:{\n            en: (arg:string) => `${arg} appears away`,\n            cn: (arg: string) => `玩家 ${arg} 掉线`\n        },\n        turnToTalk: {\n            en: (arg:string) => `${arg}'s turn to talk`,\n            cn: (arg:string) => `玩家 ${arg} 请发言`,\n        },\n        isKilled: {\n            en: (arg:string) => `${arg} is killed`,\n            cn: (arg:string) => `玩家 ${arg} 被杀`,\n        },\n        requestChangeWord: {\n            en: (arg:string) => `${arg} requested to change word`,\n            cn: (arg:string) => `玩家 ${arg} 要求换词`,\n        },\n        joined: {\n            en: (arg: string) => `${arg} joined the room`,\n            cn: (arg: string) => `${arg} 加入了房间`,\n        },\n        left: {\n            en: (arg: string) => `${arg} left the room`,\n            cn: (arg: string) => `${arg} 离开了房间`,\n        }\n    }\n\n    const getText = (key:string, arg:string) => {\n        return (arg && textDisplayFuncs[key] && textDisplayFuncs[key][language] && textDisplayFuncs[key][language](arg)) \n            || (textDisplay[key] && textDisplay[key][language])\n            || key\n    }\n\n    const getCurrentLanguage = () => language\n\n    return <LanguageContext.Provider value={\n        {\n            language,\n            getText,\n            getCurrentLanguage\n        }\n    }>\n        {children}\n    </LanguageContext.Provider>\n}\n\nexport {LanguageProvider, LanguageContext}\n","import {Button, Grid} from \"@material-ui/core\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { useHistory } from \"react-router-dom\";\nimport { useContext } from 'react'\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n      textAlign: 'center',\n      margin: 0,\n      padding: '2rem',\n      width: '100vw',\n      height: '100vh',\n      boxSizing: 'border-box',\n      color: theme.palette.text.secondary,\n      backgroundColor: '#121212',\n    },\n    content: {\n        height: '60%',\n        width: '100%',\n        margin: theme.spacing(0, 'auto'),\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        msTransform: 'translateY(-50%) translateX(-50%)',\n        transform: 'translateY(-50%) translateX(-50%)',\n    },\n    back: {\n        position: 'absolute',\n        left: '-2rem',\n        top: '-6rem'\n    }\n  }));\n\ninterface ContentContainerProps {\n    allowBack?: boolean,\n    allowExit?: boolean,\n    children:JSX.Element,\n    onExit?: () => void\n}\n\nexport default function ContentContainer({children, allowBack, allowExit, onExit}:ContentContainerProps){\n    const history = useHistory();\n    const classes = useStyles();\n    const languageContext = useContext(LanguageContext) as LanguageContextType\n\n    if (allowBack) {\n        return <div className={classes.root}>\n            <Grid container >\n                <Grid item xs={9} md={4} className={classes.content}> \n                    <div className={classes.back}>\n                        <Button size=\"large\" aria-label=\"back\" color=\"primary\" variant=\"text\" style={{fontWeight: \"bolder\"}} onClick={() => history.goBack()}>\n                            <ArrowBackIosIcon /> {languageContext && languageContext.getText(\"back\")}\n                        </Button>\n                    </div>\n                    {children}\n                </Grid>\n            </Grid>\n        </div>\n    }\n\n    if (allowExit) {\n        return <div className={classes.root}>\n            <Grid container >\n                <Grid item xs={9} md={4} className={classes.content}> \n                    <div className={classes.back}>\n                        <Button size=\"large\" aria-label=\"back\" color=\"primary\" variant=\"text\" style={{fontWeight: \"bolder\"}} \n                            onClick={() => {\n                                onExit && onExit()\n                                history.push(`/${languageContext?.getCurrentLanguage()}`\n                            )}}>\n                            <ArrowBackIosIcon /> {languageContext?.getText(\"exit\")}\n                        </Button>\n                    </div>\n                    {children}\n                </Grid>\n            </Grid>\n        </div>\n    }\n\n    return <div className={classes.root}>\n       <Grid container>\n            <Grid item xs={9} md={6} className={classes.content}> \n                {children}\n            </Grid>\n        </Grid>\n    </div>\n}","import OptionButtonBig from '../Shared/OptionButtonBig';\nimport {Grid} from '@material-ui/core'\nimport ContentContainer from '../Shared/ContentContainer';\n\nexport default function ChooseLanguage(){\n    return <ContentContainer>\n                <Grid container spacing={5}>\n                    <OptionButtonBig path=\"/en\" text=\"English\"/>\n                    <OptionButtonBig path=\"/cn\" text=\"中文\"/>\n            </Grid>\n        </ContentContainer>\n}","import { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Slider } from \"@material-ui/core\";\nimport { useContext } from 'react'\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport RoomSettings from '../../Interfaces/RoomSettings';\n\nconst PlayerNumSlider = withStyles({\n    root: {\n        position: 'absolute',\n        width: \"50%\",\n        left: '50%',\n        top: '1rem',\n      },\n    track: {\n        height: 6,\n      },\n    thumb: {\n        height: '1rem',\n        width: '1rem',\n        border: '1px solid currentColor',\n      },\n    rail: {\n        height: 6,\n        opacity: 1,\n        backgroundColor: 'rgba(63, 81, 181, 0.38)',\n        '&::after': {\n            content: '\"\"',\n            height: '6px',\n            width: '100%',\n            position: 'absolute',\n            bottom: '0px',\n            top: '0px',\n            left: '-100%',\n            backgroundColor: 'currentColor',\n            }\n    },\n    valueLabel: {\n        top: -46,\n        left: 'calc(-50% - 8px)',\n        '& *': {\n            width: '2.8rem',\n            height: '2.8rem',\n          },\n        '& span span': {\n            width: '1.7rem',\n            fontSize: '0.8rem',\n            marginTop: '0.6rem',\n            marginLeft: '-0.6rem'\n        }\n    }\n})(Slider)\n\nconst SpyNumSlider = withStyles({\n    root: {\n        position: 'absolute',\n        width: \"30%\",\n        left: '10%',\n        top: '1rem'\n      },\n    track: {\n        height: 6,\n    },\n    rail: {\n        backgroundColor: 'rgba(0, 0, 0, 0)',\n        opacity: 1,\n        height: 0,\n        '&::after': {\n            content: '\"\"',\n            height: '6px',\n            width: '33.33%',\n            position: 'absolute',\n            bottom: '0px',\n            top: '0px',\n            left: '-33.33%',\n            backgroundColor: 'currentColor',\n          }\n      },\n      thumb: {\n        height: '1rem',\n        width: '1rem',\n        border: '1px solid currentColor',\n      },\n      mark: {\n          color: '#424242',\n          opacity: 0.8\n      },\n      valueLabel: {\n        top: -46,\n        left: 'calc(-50% - 8px)',\n        '& *': {\n            width: '2.8rem',\n            height: '2.8rem',\n          },\n        '& span span': {\n            width: '1.7rem',\n            fontSize: '0.8rem',\n            marginTop: '0.5rem',\n            marginLeft: '-0.6rem'\n        }\n    }\n})(Slider)\n\ninterface NumSettingSlidersProps {\n  roomSettings: RoomSettings\n  setRoomSettings: (r: RoomSettings) => void\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: 'relative',\n      width: '100%',\n      height: '5rem',\n      marginTop: '1rem',\n    },\n  }));\n\nexport default function NumSettingSliders({roomSettings, setRoomSettings}:NumSettingSlidersProps){\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n    const classes = useStyles()\n    return <div className={classes.root}>\n            <PlayerNumSlider\n                value={roomSettings.numPlayer}\n                onChange={(e: any, newValue: number | number[]) => {\n                  setRoomSettings({...roomSettings, numPlayer: newValue as number})\n                }}\n                defaultValue={6}\n                getAriaValueText={v => `${v} players`}\n                aria-labelledby=\"number-of-players\"\n                step={1}\n                min={5}\n                max={10}\n                marks\n                valueLabelDisplay=\"on\"   \n                valueLabelFormat={v => `${v} ${getText(\"total\")}`}                 \n            />    \n            <SpyNumSlider\n                value={roomSettings.numSpy}\n                onChange={(e: any, newValue: number | number[]) => {\n                  setRoomSettings({...roomSettings, numSpy: newValue as number})\n                }}\n                defaultValue={2}\n                getAriaValueText={v => `${v} ${getText(\"spyPlural\")}`}\n                aria-labelledby=\"number-of-spys\"\n                step={1}\n                min={1}\n                max={4}\n                valueLabelDisplay=\"on\"   \n                color=\"secondary\"\n                marks\n                valueLabelFormat={v => `${v} ${v > 1 ? getText(\"spyPlural\") : getText(\"spySingular\")}`}\n            />  \n        </div>\n}","import { Grid } from \"@material-ui/core\";\nimport { Typography, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Skeleton } from '@material-ui/lab';\nimport ContentContainer from '../Shared/ContentContainer'\nimport PersonIcon from '@material-ui/icons/Person';\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport { useContext } from \"react\";\nimport RoomEnterInfo from \"../../Interfaces/RoomEnterInfo\"\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    codeDisplay: {\n        [theme.breakpoints.up('md')]: {\n            width: \"80%\",\n            margin: '0 auto'\n        }\n    },\n    skeleton: {\n        margin: '0 auto'\n    }\n  }));\n\nexport default function RoomInfoEnter({loading, code, capacity, currentPlayerNum, language: roomLanguage}: RoomEnterInfo){\n        const { getText } = useContext(LanguageContext) as LanguageContextType\n        const classes = useStyles()\n        const history = useHistory()\n\n        return <ContentContainer allowBack>\n            <div>\n                <Grid container style={{marginBottom: '3rem'}} className={classes.codeDisplay}>\n                    <Grid item xs={11}>\n                        <Typography align=\"left\" paragraph variant=\"h6\" display=\"block\" style={{margin: \"1rem 0 1rem 1rem\"}}>\n                            {getText(\"roomCode\")}: \n                        </Typography>\n                    </Grid>\n                    {\n                        (loading || !code)? [...Array(4)].map((_, i) => (\n                            <Grid item xs={3} key={i}>\n                                <Skeleton className={classes.skeleton} animation=\"wave\">\n                                    <Typography variant=\"h2\">1</Typography>\n                                </Skeleton>\n                            </Grid>)) : (\n                            (code + \"\").split(\"\").map((c, i) => (\n                                <Grid item xs={3} key={i}>\n                                    <Typography variant=\"h2\">{c}</Typography>\n                                </Grid>)\n                        ))\n                    }\n                </Grid>\n\n                {\n                    (currentPlayerNum !== undefined && capacity !== undefined) ? (\n                        <div>\n                        {\n                            [...Array(currentPlayerNum)].map((_, i) => <PersonIcon color=\"primary\" key={i}/>)\n                        }\n                        {\n                            [...Array(capacity - currentPlayerNum)].map((_, i) => <PersonIcon color=\"disabled\" key={i}/>)\n                        }\n                        </div>\n                    ) : (\n                        <Skeleton className={classes.skeleton} animation=\"wave\">\n                            {[...Array(7)].map((_, i) => <PersonIcon color=\"primary\" key={i}/>)}\n                        </Skeleton>\n                    )\n                }\n\n                {\n                    (roomLanguage !== undefined ) ? (\n                        <Typography display=\"block\" variant=\"caption\">\n                            {getText(`${roomLanguage}Room`)}\n                        </Typography>\n                    ) : (\n                        <Skeleton className={classes.skeleton} animation=\"wave\">\n                            <Typography>Room in English</Typography>\n                        </Skeleton>\n                    )\n                }\n                \n                {(loading || !code)? (<Skeleton className={classes.skeleton} animation=\"wave\">\n                    {\n                        (currentPlayerNum < capacity) ? (<Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginTop: \"2rem\"}}>\n                            {getText(\"enterRoom\")}\n                        </Button>) : (\n                        <Button disabled size=\"large\" variant=\"contained\" color=\"primary\" style={{marginTop: \"2rem\"}}>\n                            {getText(\"roomFull\")}\n                        </Button>\n                        )\n                    }\n                    </Skeleton>):(\n                <Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginTop: \"2rem\"}} onClick={() => {history.push(`/${roomLanguage}/room/${code}/enter`)}}>\n                    {getText(\"enterRoom\")}\n                </Button>)} \n            </div>\n        </ContentContainer>\n}","import axios from 'axios'\n\ninterface ApiConfig {\n  payload?: any,\n  path?: string,\n  headers?: any,\n  method?: \"GET\"|\"POST\"|\"PUT\"|\"DELETE\"\n}\n\nconst CallApi = async ({ payload, path, method=\"POST\", headers = {} }:ApiConfig) => {\n  try {\n    const { data } = await axios({\n      method,\n      url:`https://${process.env.REACT_APP_API_BASE_URL}/${path}`,\n      headers,\n      data: payload\n    });\n  \n    return data;\n  } catch (error) {\n    throw error\n  }\n}\n\nexport { CallApi }","import {useState, useContext} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentContainer from \"../Shared/ContentContainer\";\nimport { FormGroup, FormControlLabel, Checkbox, Button } from \"@material-ui/core\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport NumSettingSliders from \"./NumSettingSliders\";\nimport RoomInfoEnter from \"./RoomInfoEnter\";\nimport RoomEnterInfo from \"../../Interfaces/RoomEnterInfo\";\nimport {CallApi} from \"../../Utils/Api\";\nimport RoomSettings from \"../../Interfaces/RoomSettings\";\n\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        width: 'fit-content',\n        margin: '1rem auto'\n    },\n    submitButton: {\n        margin: '2rem 1rem 1rem 0'\n    }\n  }));\n\nexport default function NewRoom(){\n    const classes = useStyles();\n    const {getText, getCurrentLanguage} = useContext(LanguageContext) as LanguageContextType\n    const [error, setError] = useState<string>(\"\")\n    const [roomSettings, setRoomSettings] = useState<RoomSettings>({\n        numPlayer: 6,\n        numSpy: 1,\n        randomBlank: true,\n        eighteenPlus: false,\n        language: getCurrentLanguage()\n    })\n    const [createdRoomInfo, setCreatedRoomInfo] = useState<RoomEnterInfo>({\n        loading: false,\n        code: undefined,\n        capacity: 6,\n        currentPlayerNum: 0,\n        language: getCurrentLanguage(),\n        eighteenPlus: false\n    })\n\n    const onClickCreate = () => {\n        setCreatedRoomInfo((createdRoomInfo) => ({...createdRoomInfo, loading: true}))\n        CallApi({path: \"create-room\", payload: roomSettings})\n            .then((code:string) => {\n                setCreatedRoomInfo(() => ({...createdRoomInfo, loading: false, code, capacity: roomSettings.numPlayer}))\n            })\n            .catch((e) => {\n                setError(e)\n            })\n    }\n\n    if (error) {\n        return <div>\n            Error: \n            </div>\n    }\n\n    if (createdRoomInfo.loading || createdRoomInfo.code !== undefined) {\n        return <RoomInfoEnter {...createdRoomInfo}/>\n    }\n\n    return <ContentContainer allowBack>\n            <form>\n                <NumSettingSliders roomSettings={roomSettings} setRoomSettings={setRoomSettings}/>    \n                <FormGroup className={classes.formGroup}>\n                    <FormControlLabel\n                        control={<Checkbox checked={roomSettings.randomBlank} \n                                        onChange={ e => setRoomSettings(roomSettings => ({...roomSettings, randomBlank: e.target.checked}))} \n                                        name=\"random-blank\"\n                                        color=\"primary\" />}\n                        label={getText(\"randomBlank\")}\n                    />\n                    {/* <FormControlLabel\n                        control={<Checkbox checked={roomSettings.eighteenPlus} \n                                        onChange={ e => setRoomSettings(roomSettings => ({...roomSettings, eighteenPlus: e.target.checked}))} \n                                        name=\"eighteen-plus\"\n                                        color=\"secondary\" />}\n                        label={getText(\"eighteenPlus\")}\n                    /> */}\n                </FormGroup>\n                <Button className={classes.submitButton} onClick={ onClickCreate }\n                        size=\"large\" variant=\"contained\" color=\"primary\">\n                    { getText(\"createRoom\") }\n                </Button>\n            </form>\n        </ContentContainer>\n}","import ContentContainer from \"../Shared/ContentContainer\"\nimport { FormGroup, TextField, Button, CircularProgress } from \"@material-ui/core\"\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useState, useContext } from \"react\";\nimport RoomEnterInfo from \"../../Interfaces/RoomEnterInfo\";\nimport { CallApi } from \"../../Utils/Api\"\nimport RoomInfoEnter from \"./RoomInfoEnter\";\n\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        width: 'fit-content',\n        margin: '1rem auto'\n    },\n    submitButton: {\n        margin: '1rem auto'\n    }\n  }));\n\nexport default function JoinRoom(){\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const [roomCode, setRoomCode] = useState(\"\")\n    const [roomInfoFound, setRoomInfoFound] = useState<RoomEnterInfo>({\n        loading: false,\n        code: undefined,\n        capacity: 5,\n        currentPlayerNum: 0,\n        language: \"\"\n    })\n\n    const classes = useStyles()\n    const findRoom = () => {\n        setRoomInfoFound(roomInfoFound => ({...roomInfoFound, loading: true}))\n        CallApi({\n            path: `find-room?code=${roomCode}`,\n            payload: roomCode,\n            method: \"GET\"\n        }).then((j:any) => {\n            setRoomInfoFound({...j, loading: false})\n        })\n    }\n\n    if (roomInfoFound.code) {\n        return <RoomInfoEnter {...roomInfoFound}/>\n    }\n    \n    return <ContentContainer allowBack>\n        <form>\n            <FormGroup className={classes.formGroup}>\n                        <TextField\n                            id=\"room-code\"\n                            label={getText(\"roomCode\")}\n                            variant=\"outlined\"\n                            color=\"primary\"\n                            value={roomCode}\n                            autoFocus\n                            inputProps={{ maxLength: 4, minLength: 4 }}\n                            onChange={(e) => {\n                                setRoomCode(e.target.value)\n                            }}\n                        />\n            </FormGroup>\n        {\n            roomInfoFound.loading? (\n                <Button className={classes.submitButton} \n                    size=\"large\" variant=\"contained\" color=\"primary\" disabled>\n                    <CircularProgress />\n                </Button> \n            ):(\n                <Button className={classes.submitButton} onClick={e => {e.preventDefault(); findRoom();}}\n                    size=\"large\" variant=\"contained\" color=\"primary\" type=\"submit\">\n                        { getText(\"findRoom\") }\n                 </Button>   \n            )\n        }    \n        </form>\n    </ContentContainer>\n}","import { Button } from \"@material-ui/core\"\nimport { useContext } from \"react\";\nimport ContentContainer from \"../Shared/ContentContainer\"\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport LinkedInIcon from '@material-ui/icons/LinkedIn';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    option: {\n        height: '4rem',\n        width: '15rem',\n        fontSize: '1rem',\n        display: 'flex',\n        margin: '3rem auto',\n    },\n    iconSpan: {\n        padding: '3px 7px',\n        position: 'relative',\n        top: '4px'\n    },\n    link: {\n        textDecoration: 'none',\n        color: \"inherit\"\n    }\n  }));\n\nexport default function Contribute(){\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n\n    return <ContentContainer allowBack>\n       <div>\n           <ContributionLink link=\"https://github.com/niuniuanran/whoisspy\" text={getText(\"issueOrPr\")} icon={<GitHubIcon/>} important/>\n           <ContributionLink link=\"https://www.linkedin.com/in/anrann/\" text={getText(\"connectWithMe\")} icon={<LinkedInIcon/>}/>\n       </div>\n    </ContentContainer>\n}\n\ninterface ContributionLinkProps {\n    link: string,\n    text: string,\n    icon: JSX.Element\n    important?: boolean\n}\n\nfunction ContributionLink({link, text, icon, important}: ContributionLinkProps) {\n    const classes = useStyles()\n    return  <Button variant={important? \"contained\": \"outlined\"} size=\"small\" color=\"primary\" className={classes.option}>\n       <a href={link} className={classes.link} target=\"_blank\" rel=\"noreferrer\">\n            <span className={classes.iconSpan}>\n                {icon}\n            </span>\n            <span> \n                {text}\n            </span>\n        </a> \n    </Button>\n\n}","import {Grid} from \"@material-ui/core\"\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport { useContext } from \"react\";\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport OptionButtonBig from \"../Shared/OptionButtonBig\";\nimport ContentContainer from \"../Shared/ContentContainer\";\nimport { useRouteMatch } from \"react-router-dom\";\n\nexport default function EnterGameOptions(){\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n    const match = useRouteMatch();\n\n    return <ContentContainer allowBack>\n                <Grid container spacing={5}>\n                    <OptionButtonBig text={getText(\"newRoom\")} icon={<GroupAddIcon/>} path={`${match.path}/new-room`}/>\n                    <OptionButtonBig text={getText(\"joinRoom\")} icon={<PersonAddIcon/>} path={`${match.path}/join-room`}/>\n                    <OptionButtonBig text={getText(\"addWords\")} icon={<PostAddIcon/>} path={`${match.path}/contribute`}/>\n                </Grid>\n            </ContentContainer>\n}","const BroadcastActions = {\n     PlayerLeftBroadcast : \"player-left\",\n     PlayerJoinedBroadcast: \"player-joined\",\n     PlayerNewStateBroadcast: \"player-state\",\n     YourWordBroadcast: \"your-word\",\n     GameWillStartBroadcast: \"game-will-start\", \t\n     AskVoteBroadcast: \"please-vote\",\n}\n\nconst ReportActions = {\n    TalkFinishAction: \"talk-finish\",\n\tVoteAction:        \"vote\",\n\tPlayerReadyAction: \"player-ready\",\n\tPlayerExitAction:  \"player-left\",\n    PlayerUndoReadyAction: \"player-undo-ready\",\n    WordReadAction: \"word-read\",\n    ResultReceived: \"result-received\",\n    ChangeWordAction: \"change-word\"\n}\n\ninterface AytMessage {\n    line?: string\n    numPlayer?: number\n}\n\ninterface BroadcastMessage{\n    action: string\n    payload: string\n    roomcode?: string\n    alert?: string\n    instruction?: string\n    alertType?: string\n    arg?: string\n}\n\ninterface ReportMessage{\n    action?: string\n    senderNickname?: string\n    roomCode?: string\n    payload?: string\n}\n\ninterface GameAnswerMessage {\n    spyNames?: [string]\n    spyWord: string\n    goodWord: string\n}\n\nexport type {BroadcastMessage, ReportMessage, AytMessage, GameAnswerMessage}\nexport {BroadcastActions, ReportActions}","import { Avatar } from \"@material-ui/core\";\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { useState } from \"react\";\nimport { Skeleton } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    xlarge:{\n        width: theme.spacing(12),\n        height: theme.spacing(12),\n        padding: theme.spacing(1)\n    },\n    large: {\n        width: theme.spacing(7),\n        height: theme.spacing(7),\n        padding: 3\n    },\n    medium: {\n        width: theme.spacing(6),\n        height: theme.spacing(6),\n        padding: 4\n    }, \n    small: {\n        width: theme.spacing(5),\n        height: theme.spacing(5),\n    },\n    xsmall: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n        padding: 2\n    },\n    avatar: {\n        backgroundColor: '#343434',\n    },\n  }),\n);\n\ninterface PlayerAvatarProps {\n    size: \"xlarge\"|\"large\"|\"medium\"|\"small\"|\"xsmall\"\n    nickname?: string,\n    className?: string,\n    stayLoading?: boolean\n}\n\nexport default function PlayerAvatar({nickname, size, className, stayLoading=false}: PlayerAvatarProps){\n    const classes = useStyles()\n    const [imageName, setImageName] = useState(\"\")\n\n    return <div className={classes.root}>\n            <Avatar alt={nickname} src={`https://avatars.dicebear.com/api/bottts/${nickname}.svg`} \n                    className={`${classes.avatar} ${classes[size]} ${className}`} \n                    onLoad={()=>{ nickname && setImageName(nickname);}} \n                    style={(imageName !== nickname || stayLoading)? {display: 'none'}: {display: 'block'}}/>\n            <Skeleton variant=\"circle\" animation=\"wave\" className={`${classes[size]}`} \n                    style={(imageName !== nickname || stayLoading)? {display: 'block'}: {display: 'none'}}/>\n        </div>\n}","import {useState, useContext, useEffect} from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FormGroup, TextField, Button, } from \"@material-ui/core\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\";\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { useParams } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    formGroup: {\n        width: 'fit-content',\n        margin: '1rem auto'\n    },\n    submitButton: {\n        margin: '1rem auto'\n    }\n  }));\n\nexport default function NamePlayerForRoom() {\n    const classes = useStyles()\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const { setNickname } = useContext(RoomContext) as RoomContextType\n    const [ tryNickname, setTryNickname ] = useState(\"\")\n    const { code } = useParams<{code?: string}>()\n\n    useEffect(() => {\n        const storedCode = localStorage.getItem(\"roomCode\")\n        if(storedCode === code) {\n            const nickname = localStorage.getItem(\"nickname\") \n            if (nickname) {\n                setTryNickname(nickname);\n            }\n            localStorage.clear();\n        }\n    }, [code])\n\n    return  <form autoComplete=\"off\">\n            <PlayerAvatar nickname={tryNickname} size=\"xlarge\"/>\n            <FormGroup className={classes.formGroup}>\n                <TextField\n                    id=\"nickname\"\n                    label={getText(\"youNickname\")}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    value={tryNickname}\n                    autoFocus\n                    inputProps={{ maxLength: 6, minLength: 1 }}\n                    onInput={(e) => {\n                        const targetInput = e.target as HTMLInputElement\n                        setTryNickname(targetInput.value)\n                    }}\n                    required\n                />\n            </FormGroup>\n            <Button type=\"submit\" className={classes.submitButton} \n                    onClick={e => {\n                        e.preventDefault()\n                        setNickname(tryNickname)\n                    }}\n                    size=\"large\" variant=\"contained\" color=\"primary\">\n                { getText(\"confirm\") }\n        </Button>      \n        </form>\n}","export default interface Player{\n    nickname: string,\n    serialNumber: number\n    roomCode?: string,\n    state: string\n}\n\nconst PlayerStates = {\n    IdleState: \"\",\n\tReadyState: \"ready\",\n\tWordReadingState: \"reading\",\n\tListeningState: \"listening\",\n\tTalkingState:\"talking\",\n\tVotingState: \"voting\",\n\tKilledState: \"killed\",\n\tWinState: \"win\",\n    LoseState: \"lose\",\n    VotedState: \"voted\",\n    WordChangingState:\"wordChanging\",\n    AppearAwayState: \"offline\"\n}\n\nexport {PlayerStates}","import PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport { useContext } from \"react\";\nimport { Typography, Grid, Badge } from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core\";\nimport {PlayerStates} from \"../../Interfaces/Player\"\nimport { LanguageContextType, LanguageContext } from \"../../Contexts/LanguageContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: '1rem'\n    },\n    me: {\n        backgroundColor: '#898989'\n    },\n    others: {\n        backgroundColor: '#343434'\n    },\n    new: {\n        backgroundColor: '#898989',\n        width: 'fit-content'\n    },\n    player: {\n        backgroundColor: 'inherit',\n        width: 'fit-content',\n        borderRadius: '5px'\n    },\n    playerName: {\n        textAlign: \"center\"\n    },\n    killed: {  \n        filter: \"grayscale(100%)\"\n    },\n    offline: {\n        filter: \"blur(3px)\"\n    }\n}))\n\nexport default function PlayerList() {\n    const classes = useStyles()\n    const {nickname, playersInRoom, roomCapacity} = useContext(RoomContext) as RoomContextType\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const spotNum = (roomCapacity || 0) - (playersInRoom?.length || 0)\n    const badgeColor = (state:string) => {\n        if (state === PlayerStates.TalkingState) {\n            return \"secondary\"\n        }\n\n        if (state === PlayerStates.KilledState) {\n            return \"default\"\n        }\n\n        if (state === PlayerStates.AppearAwayState) {\n            return \"default\"\n        }\n\n        return \"primary\"\n    }\n\n    return <Grid container spacing={1} className={classes.root}>\n            {\n                playersInRoom && playersInRoom.sort((a, b) => a.serialNumber - b.serialNumber).map((p, i) => (\n                    <Grid xs={3} item key={i} className={`${classes.player} ${(i === playersInRoom.length - 1)? classes.new: \"\"}`}>\n                        <Badge color={badgeColor(p.state)} badgeContent={p.state? getText(p.state): 0}>\n                            <PlayerAvatar nickname={p.nickname} size=\"large\" className={`${(p.nickname === nickname)? classes.me : classes.others} ${p.state === PlayerStates.KilledState && classes.killed} ${p.state === PlayerStates.AppearAwayState && classes.offline}`}/>\n                        </Badge>\n                        <Typography className={classes.playerName}>\n                            {\n                                nickname === p.nickname ?`${p.nickname} (${getText(\"you\")})`: p.nickname\n                            }\n                        </Typography>\n                    </Grid>))}\n            {\n                spotNum > 0 && [...Array(spotNum)].map((_, i) => (\n                    <Grid xs={3} item key={i} className={classes.player}>\n                        <PlayerAvatar size=\"large\" stayLoading/>\n                        <Skeleton width={50} height={23.64} style={{margin: \"0 auto\"}} animation=\"wave\"/>\n                    </Grid>))}\n        </Grid>\n}","import { Alert } from \"@material-ui/lab\"\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\nimport {makeStyles} from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: \"fixed\",\n        top: \"-3.5rem\",\n        left: 0,\n        right: 0,\n        width: \"100%\",\n        height: \"3em\",\n    }\n}))\n\ninterface RoomTopAlertProps{\n    alertLine: string\n    type?: \"success\"|\"error\"|\"warning\"|\"info\"\n}\n\nexport default function RoomTopAlert({ alertLine, type }:RoomTopAlertProps) {\n    const classes = useStyles()\n    return <Alert severity={ type } className={classes.root} iconMapping={{ success: <PersonPinIcon fontSize=\"inherit\" />, \n                                                                            error:  <PersonPinIcon fontSize=\"inherit\" />,\n                                                                            warning:  <PersonPinIcon fontSize=\"inherit\" />}}>\n        { alertLine }\n    </Alert>\n}","import { useState, useContext } from \"react\";\nimport { Card, CardActionArea, CardActions, CardContent, Typography, Button } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\n\ninterface WordCardProps{\n    word: string\n    central?: boolean\n    onRead: () => void\n    defaultHide?: boolean\n}\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        width: \"100%\",\n        height: \"10rem\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-end\",\n        position: \"absolute\",\n        top: \"3rem\",\n        margin: \"0 auto\",\n        zIndex: 100\n    },\n    invisible: {\n        width: \"6rem\",\n        height:\"4rem\"\n    },\n    wordArea: {\n        height: \"7rem\"\n    },\n    cardArea: {\n        height: \"100%\"\n    },\n    side:{\n        width: \"7rem\",\n        height: \"5rem\",\n        position: \"absolute\",\n        bottom: \"0\",\n        right: \"0\"\n    }\n}))\n\nexport default function WordCard({word, central, onRead, defaultHide}: WordCardProps) {\n    const [visible, setVisible] = useState(true && !defaultHide)\n    const classes = useStyles()\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n\n    const onClickGotIt = () => {\n        setVisible(false)\n        onRead()\n    }\n\n    if (visible) {\n        return <Card className = {classes.main}>\n            <CardActionArea onClick={onClickGotIt} className={classes.wordArea}>\n                <CardContent>\n                <Typography variant=\"caption\" component=\"h1\" style={{textAlign: \"left\", paddingLeft:\"1em\"}}>\n                        {getText(\"yourWord\")}\n                    </Typography>\n                    <Typography variant=\"h4\" component=\"h1\">\n                        {word}\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button color=\"secondary\" onClick={onClickGotIt}>\n                    {getText(\"gotIt\")}\n                </Button>\n            </CardActions>\n        </Card>\n    } \n\n    return <Card className={central? classes.main : classes.side}>\n            <CardActionArea onClick={() => setVisible(true)} className={classes.cardArea}>\n                <VisibilityIcon style={{fontSize: (central? \"4rem\":\"2rem\")}}/> \n                <Typography>\n                    {getText(\"seeWord\")}\n                </Typography>\n            </CardActionArea>\n        </Card>\n}","import { FormControl, FormControlLabel, Radio, RadioGroup, Button, Typography, Card, CardContent } from \"@material-ui/core\";\nimport { useState, useContext } from \"react\"\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\n\nexport function VoteCard() {\n    const [target, setTarget] = useState(\"\")    \n    const {onVote, voteTargets} = useContext(RoomContext) as RoomContextType\n    const {getText} = useContext(LanguageContext) as LanguageContextType\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setTarget((event.target as HTMLInputElement).value);\n      };\n\n    return <Card style={{position: \"relative\", left: \"-10%\", width: \"120%\"}}>\n        <CardContent>\n            <Typography variant=\"h5\">\n                {getText(\"pleaseVote\")}\n            </Typography>\n        <form style={{marginTop: \"1rem\"}}>\n            <FormControl component=\"fieldset\">\n            <RadioGroup row aria-label=\"vote\" name=\"vote\" value={target} onChange={handleChange} > \n                {                               \n                    voteTargets.map((n, i) => (\n                        <div key={i} style={{display:\"flex\", flexDirection:\"column\", justifyContent:\"center\", alignItems:\"center\", padding:5}}>\n                            <div onClick={() => {setTarget(n)}}>\n                                <PlayerAvatar nickname={n} size=\"large\"/>\n                            </div>\n                            <FormControlLabel \n                                value={n} control={<Radio color=\"primary\"/>}\n                                label={<div>\n                                            <Typography>\n                                                {n}\n                                            </Typography>\n                                        </div>}/>\n                        </div>)\n                    )\n                }\n            </RadioGroup>\n            </FormControl>\n            <Button onClick={() => onVote(target)} color=\"primary\" variant=\"contained\" style={{marginTop: \"1rem\"}}>\n                {getText(\"submitVote\")}\n            </Button>\n        </form>    \n        </CardContent>\n    </Card> \n}","import {Card, CardContent, Typography, makeStyles} from \"@material-ui/core\"\nimport PlayerAvatar from \"../Shared/PlayerAvatar\"\n\ninterface InstructionCardProps {\n    nickname?: string\n    instruction: string\n    children?: JSX.Element\n    killed?: boolean\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\",\n        position: \"absolute\",\n        top: \"0rem\",\n        margin: \"0 auto\",\n        zIndex: 2\n    },\n    cardContent: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    instruction: {\n        marginLeft:\"1rem\"\n    },\n    children: {\n        marginTop: 3\n    },\n    killed: {  \n        filter: \"grayscale(100%)\"\n    }\n}))\n\nexport default function InstructionCard({nickname, instruction, children, killed}: InstructionCardProps){\n    const classes = useStyles()\n    return <Card className={classes.root}>\n        <CardContent className={classes.cardContent}>\n            {nickname && <PlayerAvatar size=\"medium\" nickname={nickname} className={(killed && classes.killed) || \"\"}/>}\n            <div className={classes.instruction}>\n                <Typography variant=\"h6\">\n                    {instruction}\n                </Typography>\n                {\n                    children &&  <div className={classes.children}>\n                        {children}\n                    </div>\n                }\n            </div>\n         </CardContent>\n    </Card>\n}","import PlayerAvatar from \"../Shared/PlayerAvatar\";\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport { useContext, useState } from \"react\";\nimport { Typography, Box, Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useEffect } from \"react\";\nimport { LanguageContextType, LanguageContext } from \"../../Contexts/LanguageContext\";\nimport { GameAnswerMessage } from \"../../Interfaces/Messages\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        marginTop: '1rem'\n    },\n    me: {\n        backgroundColor: '#898989'\n    },\n    others: {\n        backgroundColor: '#343434'\n    },\n    player: {\n        backgroundColor: 'inherit',\n        width: 'fit-content',\n        borderRadius: '5px'\n    },\n    playerName: {\n        textAlign: \"center\"\n    },\n    wordPaper: {\n        marginLeft: \"3px\",\n        padding: \"0px 6px\"\n    },\n    spyIs: {\n        marginRight: \"1rem\"\n    }\n}))\n\nexport default function GameAnswer() {\n    const { arg } = useContext(RoomContext) as RoomContextType\n    const [answer, setAnswer] = useState<GameAnswerMessage>({\n        spyNames: undefined,\n        goodWord: \"\",\n        spyWord: \"\"\n    })\n    \n    useEffect(() => {\n        if (arg) {\n            try {\n                setAnswer(JSON.parse(arg))\n            } catch (error) {\n                return\n            }\n        }\n    }, [arg])\n\n    return <div>\n        {answer.goodWord && <WordAnswer good word={answer.goodWord}/>}\n        {answer.spyWord && <WordAnswer word={answer.spyWord}/>}\n        {answer.spyNames && <SpyList spyNames={answer.spyNames}/>}\n    </div>\n}\n\ninterface SpyListProps{\n    spyNames: [string]\n}\n\ninterface WordAnswerProps{\n    good?: boolean\n    word: string\n}\n\nfunction WordAnswer({good, word}: WordAnswerProps) {\n    const classes = useStyles()\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    return <Box display=\"flex\" justifyContent=\"center\" m={2}>\n                {good? <Typography>{getText(\"goodWord\")}</Typography> : <Typography>{getText(\"spyWord\")}</Typography>}\n                <Paper className={classes.wordPaper} elevation={3} variant=\"outlined\">\n                    <Typography>\n                        {word? word: \"    \"}\n                    </Typography>\n                </Paper>\n            </Box>\n}\n\nfunction SpyList({spyNames: spyList}: SpyListProps) {\n    const classes = useStyles()\n    const { nickname } = useContext(RoomContext) as RoomContextType\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n\n    if (spyList.length < 1) {\n        return <div/>\n    }\n\n    return <div>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" className={classes.list}>\n            <Typography className={classes.spyIs}>\n                {spyList.length === 1? getText(\"spyIs\") : getText(\"spiesAre\")}\n            </Typography>\n                {\n                    spyList.map((p, i) => (\n                        <div key={i} className={classes.player}>\n                            <PlayerAvatar nickname={p} size=\"xsmall\" className={`${(p === nickname)? classes.me : classes.others}`}/>\n                            <Typography className={classes.playerName}>\n                                {\n                                    nickname === p ?`${p} (${getText(\"you\")})`: p\n                                }\n                            </Typography>\n                        </div>))\n                }\n            </Box>\n        </div>\n}","import { useContext, useState, useEffect } from \"react\"\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\"\nimport { Button, CircularProgress, Typography } from \"@material-ui/core\"\nimport MoodBadOutlinedIcon from '@material-ui/icons/MoodBadOutlined';\nimport WordCard from \"./WordCard\"\nimport ContentContainer from \"../Shared/ContentContainer\"\nimport { PlayerStates } from \"../../Interfaces/Player\"\nimport { VoteCard } from \"./VoteCard\"\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\nimport InstructionCard from \"./InstructionCard\"\nimport RoomTopAlert from \"../Room/RoomTopAlert\"\nimport PlayerList from \"../Room/PlayerList\";\nimport GameAnswer from \"./GameAnswer\";\n\nexport default function Play() {\n    const {word, onTalkFinish, onWordRead, instruction, playersInRoom, alertLine, alertType, changeWord,\n        nickname, reportResultReceived, connected} = useContext(RoomContext) as RoomContextType\n    const { getCurrentLanguage, getText } = useContext(LanguageContext) as LanguageContextType\n    const [playerState, setPlayerState] = useState(PlayerStates.IdleState)\n    const history = useHistory()\n    const { code } = useParams<{code?: string}>()\n\n    useEffect(() => {\n        setPlayerState((playersInRoom?.find(p => p.nickname === nickname)?.state) || PlayerStates.IdleState)\n    }, [playersInRoom, nickname])\n\n    const onResultReceived = () => {\n        reportResultReceived()\n        history.push(`/${getCurrentLanguage()}/room/${code}`)\n    }\n\n    if (!connected) {\n        return <ContentContainer>\n            <div>\n                <InstructionCard instruction={getText(\"youLookDisconnected\")}>\n                    <div>\n                    <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => {history.push(`/${getCurrentLanguage()}`)}}>\n                        {getText(\"backToHomepage\")}\n                    </Button>\n                    </div>\n                </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.WordReadingState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <WordCard word={word} onRead={onWordRead} central/>\n                <Button size=\"small\" style={{position: \"absolute\", bottom: \"1rem\", left: \"1rem\"}} onClick={changeWord}>\n                    {getText(\"changeWord\")}\n                </Button>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.WordChangingState) {\n        let requesterName = (alertLine && alertLine.split(\" requested\")[0]) || \"Someone\"\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard nickname={requesterName} instruction={`Picking new words for you ...`}>\n                    <CircularProgress/>\n                </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.TalkingState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard nickname={nickname} instruction={\"Your turn to talk\"}>\n                    <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => {onTalkFinish();}}>I finish</Button>\n                </InstructionCard>\n                <WordCard word={word} onRead={onWordRead} defaultHide/>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.ListeningState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard nickname={playersInRoom?.find(p => p.state === PlayerStates.TalkingState)?.nickname} instruction={instruction}/>\n                <WordCard word={word} onRead={onWordRead} defaultHide/>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.VotingState) {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <VoteCard/>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.VotedState) {\n        return <ContentContainer>\n            <div>\n            {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n            <InstructionCard instruction={getText(\"waitingVote\")}>\n                <CircularProgress/>\n            </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.LoseState || playerState === PlayerStates.WinState) {\n        return <ContentContainer>\n            <div>\n            {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n            <InstructionCard instruction={instruction}>\n                <div>\n                    {playerState === PlayerStates.LoseState && <Typography variant=\"h3\" color=\"secondary\">\n                        {getText(\"youLose\")}\n                        <MoodBadOutlinedIcon style={{paddingLeft: \"0.5rem\"}}/>\n                    </Typography>}\n                    {playerState === PlayerStates.WinState && <Typography variant=\"h3\">\n                        {getText(\"youWin\")}\n                    </Typography>}\n                    <GameAnswer/>\n                    <Button onClick={() => {onResultReceived();}} variant=\"contained\" size=\"small\" color=\"primary\">\n                        {getText(\"ok\")}\n                    </Button>\n                </div>\n            </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n\n    if (playerState === PlayerStates.KilledState) {\n        return <ContentContainer>\n                 <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <PlayerList/>\n                </div>\n        </ContentContainer>\n    }\n\n    else {\n        return <ContentContainer>\n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <InstructionCard instruction={instruction || `Unexpected state ${playerState}`}>\n                    <Button variant=\"contained\" size=\"small\" color=\"primary\" onClick={() => {history.push(`/${getCurrentLanguage()}`)}}>\n                        {getText(\"backToHomepage\")}\n                    </Button>\n                </InstructionCard>\n            </div>\n        </ContentContainer>\n    }\n}","import { useParams, useHistory } from \"react-router-dom\";\nimport { useContext } from \"react\"\nimport { RoomContext, RoomContextType } from \"../../Contexts/RoomContext\";\nimport { LanguageContext, LanguageContextType } from \"../../Contexts/LanguageContext\"\nimport { Typography, Modal, Paper, Button, CircularProgress} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport NamePlayerForRoom from \"./NamePlayerForRoom\";\nimport ContentContainer from \"../Shared/ContentContainer\"\nimport PlayerList from \"./PlayerList\";\nimport RoomTopAlert from \"./RoomTopAlert\"\nimport Play from \"../Play/Play\"\nimport {PlayerStates} from \"../../Interfaces/Player\"\nimport InstructionCard from \"../Play/InstructionCard\";\n\nconst useStyle = makeStyles(theme => ({\n    modalBody: {\n        padding: theme.spacing(2, 4, 3),\n        [theme.breakpoints.up('sm')]: {\n            width: \"320px\",\n            height:\"150px\",\n            margin: \"100px auto\"        \n        },\n        [theme.breakpoints.down('sm')]: {\n            width: \"240px\",\n            height: \"150px\",\n            margin: \"150px auto\"        \n        },\n    },\n    modalButton: {\n        marginLeft: \"200px\"\n    },\n    marginBottom: {\n        marginBottom: \"1rem\"\n    },\n    marginTop: {\n        marginTop: \"1rem\"\n    }\n}))\n\nexport const RoomStates = {\n    IdleState: \"idle-state\",\n    GameOnState: \"game-on\"\n}\n\nexport default function Room(){\n    const { nickname, setNickname, onDisconnectFromRoom: onExitRoom, alertLine, alertType, joinFailedMessage, roomState,\n        setJoinFailedMessage, roomCapacity, playersInRoom, getReady, undoReady } = useContext(RoomContext) as RoomContextType\n    const { getText, getCurrentLanguage } = useContext(LanguageContext) as LanguageContextType\n    const { code } = useParams<{code?: string}>()\n    const { state } = useParams<{state?: string}>()\n    const classes = useStyle()\n    const history = useHistory()\n    const onModalClose = () => {\n        setJoinFailedMessage && setJoinFailedMessage(\"\")\n        setNickname(\"\")\n    }\n\n    if (state === \"play\") {\n        return <Play/>\n    }\n\n    if (!nickname) {\n        return <ContentContainer allowExit>\n                <NamePlayerForRoom />\n            </ContentContainer>\n    }\n\n    if (roomState === RoomStates.GameOnState) {\n        setTimeout(() => {\n            history.push(`/${getCurrentLanguage()}/room/${code}/play`)\n        }, 3000)\n        return <ContentContainer allowExit onExit={onExitRoom}> \n            <div>\n                <CircularProgress size=\"5rem\" className={classes.marginBottom}/>\n                <Typography variant=\"h5\" className={classes.marginTop}>\n                    {getText(\"gameStarting\")}\n                </Typography>         \n            </div>\n        </ContentContainer>\n    }\n\n    if (playersInRoom?.find(p => p.nickname === nickname)?.state === PlayerStates.WinState) {\n\n        return <ContentContainer>\n           <InstructionCard nickname={nickname} instruction=\"Well done :)\"/>\n        </ContentContainer>\n    }\n\n    if (playersInRoom?.find(p => p.nickname === nickname)?.state === PlayerStates.LoseState) {\n        return <ContentContainer>\n            <InstructionCard nickname={nickname} instruction=\"Better luck next time\"/>\n        </ContentContainer>\n    }\n\n    return <> \n        <Modal\n            open={joinFailedMessage !== \"\"}\n            onClose={onModalClose}\n            aria-labelledby=\"join-room-failed\"\n            aria-describedby=\"join-room-failed\"\n            >\n                <Paper className={classes.modalBody}>\n                    <h2>\n                        {getText(\"failJoinRoom\")}\n                    </h2>\n                    <p>\n                        {joinFailedMessage}\n                    </p>\n                    <Button onClick={onModalClose} className={classes.modalButton}>\n                        {getText(\"confirm\")}\n                    </Button>\n                </Paper>\n        </Modal>\n        <ContentContainer allowExit onExit={onExitRoom}> \n            <div>\n                {alertLine && <RoomTopAlert alertLine={alertLine} type={alertType}/>}\n                <Typography variant=\"h4\" className={classes.marginBottom}>\n                    {getText(\"room\", code)}\n                </Typography>\n                <PlayerList/>\n                {\n                    playersInRoom && roomCapacity && (roomCapacity === playersInRoom?.length) && (\n                        playersInRoom.find(p => p.nickname === nickname)?.state === PlayerStates.ReadyState ?\n                    <Button size=\"large\" variant=\"contained\" color=\"secondary\"  className={classes.marginTop} onClick={undoReady}>\n                        {getText(\"notReady\")}\n                    </Button>:\n                     <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.marginTop} onClick={getReady}>\n                        {getText(\"imReady\")}\n                    </Button>)\n                }\n            </div>\n        </ContentContainer>\n    </>\n}","import React, {useState, useRef, useEffect, useCallback, useContext} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { BroadcastActions, BroadcastMessage, ReportActions } from \"../Interfaces/Messages\";\nimport { CallApi } from \"../Utils/Api\"\nimport {AytMessage} from \"../Interfaces/Messages\"\nimport Player from \"../Interfaces/Player\"\nimport { RoomStates } from \"../Components/Room/Room\";\nimport { LanguageContext, LanguageContextType } from \"./LanguageContext\"\n\nconst RoomContext = React.createContext<any>(undefined)\n\ninterface RoomContextProp {\n    children:JSX.Element,\n}\n\nexport type RoomContextType = {\n    id?: number,\n    nickname?: string,\n    setId: (id: number) => void\n    setNickname: (name: string) => void\n    getAvatarPath: () => string\n    onDisconnectFromRoom?: () => void\n    playersInRoom?: [Player]\n    alertLine?: string\n    joinFailedMessage?: string\n    setJoinFailedMessage?: (s: string) => void\n    roomCapacity?: number\n    getReady?: () => void\n    undoReady?: () => void\n    word: string\n    onVote: (n: string) => void\n    onTalkFinish: () => void\n    onWordRead: () => void\n    playerState: string\n    instruction: string\n    voteTargets: [string]\n    roomState: string\n    setRoomState: (s: string) => void\n    reportResultReceived: () => void\n    alertType?: \"success\"|\"warning\"|\"error\"|\"info\"\n    changeWord: () => void\n    connected: boolean\n    arg?: string\n}\n\nfunction RoomProvider({ children }: RoomContextProp){\n    const { getText } = useContext(LanguageContext) as LanguageContextType\n    const { code } = useParams<{code?: string}>()\n    const [id, setId] = useState(undefined)\n    const [nickname, setNickname] = useState(\"\")\n    const [connected, setConnected] = useState(false)\n    const [alertLine, setAlertLine] = useState(\"\")\n    const [playersInRoom, setPlayersInRoom] = useState<Player[]>()\n    const [joinFailedMessage, setJoinFailedMessage] = useState(\"\")\n    const [roomCapacity, setRoomCapacity] = useState(0)\n    const [word, setWord] = useState(\"\")\n    const [instruction, setInstruction] = useState(\"\")\n    const [wordRead, setWordRead] = useState(false)\n    const [voteTargets, setVoteTargets] = useState<[string]>()\n    const [roomState, setRoomState] = useState(RoomStates.IdleState)\n    const [alertType, setAlertType] = useState(\"success\")\n    const [arg, setArg] = useState(\"\")\n    const ws = useRef<WebSocket|null>(null);\n\n    const handleMessage = useCallback((message:BroadcastMessage) => {\n        message.instruction && setInstruction(getText(message.instruction, message.arg))\n        if (message.alert){\n            message.alertType && setAlertType(message.alertType)\n            setAlertLine(getText(message.alert, message.arg))\n            setTimeout(()=>setAlertLine(\"\"), 2500)\n        } \n\n        if (message.action === BroadcastActions.PlayerNewStateBroadcast) {\n            console.log(\"message.arg: \", message.arg)\n            console.log(\"message.payload: \", message.payload)\n            message.arg && setArg(message.arg)\n            let players: [Player] = JSON.parse(message.payload) \n            setPlayersInRoom(players)\n        }\n\n        if (message.action === BroadcastActions.PlayerJoinedBroadcast || \n            message.action === BroadcastActions.PlayerLeftBroadcast) {\n            setPlayersInRoom(JSON.parse(message.payload))\n        }\n\n        if (message.action === BroadcastActions.GameWillStartBroadcast) {\n            setRoomState(RoomStates.GameOnState)\n        }\n\n        if (message.action === BroadcastActions.YourWordBroadcast) {\n            setWord(message.payload)\n            setWordRead(false)\n        }\n\n        if (message.action === BroadcastActions.AskVoteBroadcast) {\n            setVoteTargets(JSON.parse(message.payload))\n        }\n\n    }, [getText]);\n\n    const changeWord = useCallback(() => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.ChangeWordAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onDisconnectFromRoom = useCallback(() => {\n        if (ws?.current?.readyState === ws?.current?.CLOSED) {\n            console.log(\"Already in closed state\")\n            return\n        }\n\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.PlayerExitAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onVote = useCallback((target:string) => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.VoteAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: target\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onTalkFinish = useCallback(() => {\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.TalkFinishAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code])\n\n    const onWordRead = useCallback(() => {\n        if (wordRead) {\n            return\n        }\n        setWordRead(true)\n        ws?.current?.send(\n            JSON.stringify({\n              action: ReportActions.WordReadAction,\n              senderNickname: nickname,\n              roomCode: code,\n              payload: \"\"\n            })\n          )\n    }, [ws, nickname, code, wordRead])\n\n    const getReady = useCallback(() => {\n        if (ws?.current?.readyState === ws?.current?.CLOSED) {\n            console.log(\"Trying to send get ready message. Already in closed state\")\n            return\n        }\n        console.log(\"ws readystate is\", ws?.current?.readyState)\n        console.log(\"ws OPEN is\", ws?.current?.OPEN)\n        console.log(\"Message sending: \", JSON.stringify({\n            action: ReportActions.PlayerReadyAction,\n            senderNickname: nickname,\n            roomCode: code,\n            payload: \"\"\n        }))\n\n        ws?.current?.send(\n            JSON.stringify({\n                action: ReportActions.PlayerReadyAction,\n                senderNickname: nickname,\n                roomCode: code,\n                payload: \"\"\n            }))\n        }, [ws, nickname, code])\n    \n    const undoReady = useCallback(async () => {\n        ws?.current?.send(\n            JSON.stringify({\n                action: ReportActions.PlayerUndoReadyAction,\n                senderNickname: nickname,\n                roomCode: code,\n                payload: \"\"\n            })\n            )\n        }, [ws, nickname, code])\n\n    const reportResultReceived= useCallback(async () => {\n        setRoomState(RoomStates.IdleState)\n        setWord(\"\")\n        ws?.current?.send(\n            JSON.stringify({\n                action: ReportActions.ResultReceived,\n                senderNickname: nickname,\n                roomCode: code,\n                payload: \"\"\n            })\n            )\n    }, [ws, nickname, code])\n\n    useEffect(() => {\n        if (nickname && code && !connected){\n            CallApi({path: `ayt?nickname=${nickname}&roomcode=${code}` })\n            .then((m: AytMessage) => {\n                if (m.line) {\n                    setJoinFailedMessage(m.line)\n                    return\n                }\n\n                m.numPlayer && setRoomCapacity(m.numPlayer)\n\n                ws.current = new WebSocket(`wss://${process.env.REACT_APP_API_BASE_URL}/ws?nickname=${nickname}&roomcode=${code}`)\n                ws.current.onopen = () => {\n                    console.log(\"connected\");\n                    setConnected(true);\n                };\n                ws.current.onmessage = (evt) => {\n                    handleMessage(JSON.parse(evt.data));\n                };\n                ws.current.onclose = () => {\n                    console.log(\"disconnected\");\n                    onDisconnectFromRoom()\n            }})\n        }\n    }, [onDisconnectFromRoom, handleMessage, code, nickname, ws, connected])\n\n    return <RoomContext.Provider value={\n        {\n            id,\n            setId,\n            nickname,\n            setNickname,\n            onDisconnectFromRoom,\n            playersInRoom,\n            alertLine,\n            joinFailedMessage,\n            setJoinFailedMessage,\n            roomCapacity,\n            getReady,\n            undoReady,\n            roomState,\n            setRoomState,\n            word,\n            onVote,\n            onTalkFinish,\n            onWordRead,\n            instruction,\n            voteTargets,\n            reportResultReceived,\n            alertType,\n            changeWord,\n            connected,\n            arg\n        }\n    }>\n        {children}\n    </RoomContext.Provider>\n}\n\nexport {RoomProvider, RoomContext}\n","import NewRoom from './EnterGame/NewRoom';\nimport JoinRoom from './EnterGame/JoinRoom';\nimport Contribute from './Contribute/Contribute';\nimport EnterGameOptions from './EnterGame/EnterGameOptions';\nimport { RoomProvider } from \"../Contexts/RoomContext\";\nimport Room from './Room/Room';\nimport {\n    Switch,\n    Route,\n    useRouteMatch\n  } from \"react-router-dom\";\n\nexport default function GameRoute(){\n    const match = useRouteMatch();\n\n   return  <Switch>\n                <Route path={`${match.path}/new-room`}>\n                    <NewRoom/>\n                </Route>\n                <Route path={`${match.path}/join-room`}>\n                    <JoinRoom/>\n                </Route>\n                <Route path={`${match.path}/contribute`}>\n                    <Contribute/>\n                </Route>\n                <Route path={`${match.path}/room/:code/:state?`}>\n                    <RoomProvider>\n                        <Room/>\n                    </RoomProvider>\n                </Route>\n                <Route path={match.path}>\n                    <EnterGameOptions/>\n                </Route>\n            </Switch>\n}","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport ChooseLanguage from \"./Components/EnterGame/ChooseLanguage\";\nimport {LanguageProvider} from \"./Contexts/LanguageContext\";\nimport GameRoute from \"./Components/GameRoute\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    }\n  })\n  return (\n    <ThemeProvider theme={theme}>\n        <Router>\n            <Switch>\n              <Route path=\"/en\">\n                <LanguageProvider language={\"en\"}>\n                  <GameRoute/>\n                </LanguageProvider>\n              </Route>\n              <Route path=\"/cn\">\n                <LanguageProvider language={\"cn\"}>\n                  <GameRoute/>\n                </LanguageProvider>\n              </Route>\n              <Route path=\"/\">\n                <ChooseLanguage />\n              </Route>\n            </Switch>\n        </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}