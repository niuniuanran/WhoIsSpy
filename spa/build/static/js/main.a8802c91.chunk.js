(this["webpackJsonpwho-is-spy"]=this["webpackJsonpwho-is-spy"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),o=n.n(r),i=(n(88),n(28)),s=n(14),l=n(134),j=n(136),u=n(131),b=n(2),d=Object(u.a)((function(e){return{option:{height:"5rem",width:"15rem",fontSize:"1.5rem"},iconSpan:{fontSize:"2rem",paddingRight:"1rem"}}}));function m(e){var t=e.text,n=e.path,a=e.icon,c=d(),r=Object(s.f)();return Object(b.jsx)(l.a,{item:!0,xs:12,children:Object(b.jsxs)(j.a,{variant:"contained",size:"large",color:"primary",className:c.option,onClick:function(){r.push(n)},children:[Object(b.jsx)("span",{className:c.iconSpan,children:a}),Object(b.jsx)("span",{children:t})]})})}var h=n(71),x=n.n(h),O=c.a.createContext(void 0);function p(e){var t=e.language,n=e.children,a={newRoom:{en:"New room",cn:"\u65b0\u5efa\u623f\u95f4"},joinRoom:{en:"Join room",cn:"\u52a0\u5165\u623f\u95f4"},addWords:{en:"Contribute",cn:"\u8d21\u732e\u8bcd\u6761"},randomBlank:{en:"Spy can be blank",cn:"\u5367\u5e95\u53ef\u4ee5\u662f\u767d\u677f"},eighteenPlus:{en:"Allow 18+ words",cn:"\u5141\u8bb8\u6210\u4eba\u8bcd\u6c47"},back:{en:"Back",cn:"\u8fd4\u56de"},spyPlural:{en:"spies",cn:"\u4e2a\u5367\u5e95"},spySingular:{en:"spy",cn:"\u4e2a\u5367\u5e95"},total:{en:"total",cn:"\u4e2a\u73a9\u5bb6"},roomCode:{en:"Room code",cn:"\u623f\u95f4\u53f7"},enRoom:{en:"Room in English",cn:"\u82f1\u6587\u623f\u95f4"},cnRoom:{en:"Room in Chinese",cn:"\u4e2d\u6587\u623f\u95f4"},enterRoom:{en:"Enter room",cn:"\u8fdb\u5165\u623f\u95f4"},roomFull:{en:"Room is full",cn:"\u623f\u95f4\u5df2\u6ee1"},createRoom:{en:"Create room",cn:"\u521b\u5efa\u623f\u95f4"},ok:{en:"OK",cn:"\u786e\u8ba4"},youNickname:{en:"Your nickname",cn:"\u4f60\u7684\u6635\u79f0"}};return Object(b.jsx)(O.Provider,{value:{language:t,getText:function(e){return a[e][t]},getCurrentLanguage:function(){return t}},children:n})}var g=Object(u.a)((function(e){return{root:{flexGrow:1,textAlign:"center",margin:0,padding:"2rem",width:"100vw",height:"100vh",boxSizing:"border-box",color:e.palette.text.secondary,backgroundColor:"#121212"},content:{height:"60%",width:"100%",margin:e.spacing(0,"auto"),position:"absolute",top:"50%",left:"50%",msTransform:"translateY(-50%) translateX(-50%)",transform:"translateY(-50%) translateX(-50%)"},back:{position:"absolute",left:"-2rem",top:"-6rem"}}}));function f(e){var t=e.children,n=e.allowBack,c=Object(s.f)(),r=g(),o=Object(a.useContext)(O);return Object(b.jsx)("div",{className:r.root,children:n?Object(b.jsx)(l.a,{container:!0,children:Object(b.jsxs)(l.a,{item:!0,xs:9,md:4,className:r.content,children:[Object(b.jsx)("div",{className:r.back,children:Object(b.jsxs)(j.a,{size:"large","aria-label":"back",color:"primary",variant:"text",style:{fontWeight:"bolder"},onClick:function(){return c.goBack()},children:[Object(b.jsx)(x.a,{})," ",o&&o.getText("back")]})}),t]})}):Object(b.jsx)(l.a,{container:!0,children:Object(b.jsx)(l.a,{item:!0,xs:9,md:6,className:r.content,children:t})})})}function v(){return Object(b.jsx)(f,{children:Object(b.jsxs)(l.a,{container:!0,spacing:5,children:[Object(b.jsx)(m,{path:"/en",text:"English"}),Object(b.jsx)(m,{path:"/cn",text:"\u4e2d\u6587"})]})})}var y=n(31),k=n(25),w=n(138),C=n(139),N=n(143),B=n(5),S=n(145),T=Object(B.a)({root:{position:"absolute",width:"50%",left:"50%",top:"1rem"},track:{height:6},thumb:{height:"1rem",width:"1rem",border:"1px solid currentColor"},rail:{height:6,opacity:1,backgroundColor:"rgba(63, 81, 181, 0.38)","&::after":{content:'""',height:"6px",width:"100%",position:"absolute",bottom:"0px",top:"0px",left:"-100%",backgroundColor:"currentColor"}},valueLabel:{top:-46,left:"calc(-50% - 8px)","& *":{width:"2.8rem",height:"2.8rem"},"& span span":{width:"1.7rem",fontSize:"0.8rem",marginTop:"0.6rem",marginLeft:"-0.6rem"}}})(S.a),R=Object(B.a)({root:{position:"absolute",width:"30%",left:"10%",top:"1rem"},track:{height:6},rail:{backgroundColor:"rgba(0, 0, 0, 0)",opacity:1,height:0,"&::after":{content:'""',height:"6px",width:"33.33%",position:"absolute",bottom:"0px",top:"0px",left:"-33.33%",backgroundColor:"currentColor"}},thumb:{height:"1rem",width:"1rem",border:"1px solid currentColor"},mark:{color:"#424242",opacity:.8},valueLabel:{top:-46,left:"calc(-50% - 8px)","& *":{width:"2.8rem",height:"2.8rem"},"& span span":{width:"1.7rem",fontSize:"0.8rem",marginTop:"0.5rem",marginLeft:"-0.6rem"}}})(S.a),P=Object(u.a)((function(e){return{root:{position:"relative",width:"100%",height:"5rem",marginTop:"1rem"}}}));function z(){var e=Object(a.useContext)(O).getText,t=P();return Object(b.jsxs)("div",{className:t.root,children:[Object(b.jsx)(T,{defaultValue:6,getAriaValueText:function(e){return"".concat(e," players")},"aria-labelledby":"number-of-players",step:1,min:5,max:10,marks:!0,valueLabelDisplay:"on",valueLabelFormat:function(t){return"".concat(t," ").concat(e("total"))}}),Object(b.jsx)(R,{defaultValue:2,getAriaValueText:function(t){return"".concat(t," ").concat(e("spyPlural"))},"aria-labelledby":"number-of-spys",step:1,min:1,max:4,valueLabelDisplay:"on",color:"secondary",marks:!0,valueLabelFormat:function(t){return"".concat(t," ").concat(e(t>1?"spyPlural":"spySingular"))}})]})}var L=n(50),F=n(56),A=n(102),D=n(137),E=n(58),G=n.n(E),I=Object(u.a)((function(e){return{codeDisplay:Object(F.a)({},e.breakpoints.up("md"),{width:"80%",margin:"0 auto"}),skeleton:{margin:"0 auto"}}}));function V(e){var t=e.loading,n=e.code,c=e.capacity,r=e.currentPlayerNum,o=e.language,i=Object(a.useContext)(O).getText,u=I(),d=Object(s.f)();return Object(b.jsx)(f,{allowBack:!0,children:Object(b.jsxs)("div",{children:[Object(b.jsxs)(l.a,{container:!0,style:{marginBottom:"3rem"},className:u.codeDisplay,children:[Object(b.jsx)(l.a,{item:!0,xs:11,children:Object(b.jsxs)(A.a,{align:"left",paragraph:!0,variant:"h6",display:"block",style:{margin:"1rem 0 1rem 1rem"},children:[i("roomCode"),":"]})}),t||!n?Object(L.a)(Array(4)).map((function(){return Object(b.jsx)(l.a,{item:!0,xs:3,children:Object(b.jsx)(D.a,{className:u.skeleton,animation:"wave",children:Object(b.jsx)(A.a,{variant:"h2",children:"1"})})})})):n.split("").map((function(e,t){return Object(b.jsx)(l.a,{item:!0,xs:3,children:Object(b.jsx)(A.a,{variant:"h2",children:e})})}))]}),void 0!==r&&void 0!==c?Object(b.jsxs)("div",{children:[Object(L.a)(Array(r)).map((function(){return Object(b.jsx)(G.a,{color:"primary"})})),Object(L.a)(Array(c-r)).map((function(){return Object(b.jsx)(G.a,{color:"disabled"})}))]}):Object(b.jsx)(D.a,{className:u.skeleton,children:Object(L.a)(Array(7)).map((function(){return Object(b.jsx)(G.a,{color:"primary"})}))}),void 0!==o?Object(b.jsx)(A.a,{display:"block",variant:"caption",children:i("".concat(o,"Room"))}):Object(b.jsx)(D.a,{className:u.skeleton,children:Object(b.jsx)(A.a,{children:"Room in English"})}),t||!n?Object(b.jsx)(D.a,{className:u.skeleton,animation:"wave",children:r<c?Object(b.jsx)(j.a,{size:"large",variant:"contained",color:"primary",style:{marginTop:"2rem"},children:i("enterRoom")}):Object(b.jsx)(j.a,{disabled:!0,size:"large",variant:"contained",color:"primary",style:{marginTop:"2rem"},children:i("roomFull")})}):Object(b.jsx)(j.a,{size:"large",variant:"contained",color:"primary",style:{marginTop:"2rem"},onClick:function(){d.push("/".concat(o,"/room/").concat(n))},children:i("enterRoom")})]})})}var J=Object(u.a)((function(e){return{formGroup:{width:"fit-content",margin:"1rem auto"},submitButton:{margin:"2rem 1rem 1rem 0"}}}));function W(){var e=J(),t=Object(a.useContext)(O),n=t.getText,c=t.getCurrentLanguage,r=Object(a.useState)({numPlayer:6,numSpy:1,randomBlank:!0,eighteenPlus:!1,language:c()}),o=Object(k.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)({loading:!1,code:void 0,capacity:5,currentPlayerNum:0,language:c()}),u=Object(k.a)(l,2),d=u[0],m=u[1];return d.loading||void 0!==d.code?Object(b.jsx)(V,Object(y.a)({},d)):Object(b.jsx)(f,{allowBack:!0,children:Object(b.jsxs)("form",{children:[Object(b.jsx)(z,{}),Object(b.jsxs)(w.a,{className:e.formGroup,children:[Object(b.jsx)(C.a,{control:Object(b.jsx)(N.a,{checked:i.randomBlank,onChange:function(e){return s((function(t){return Object(y.a)(Object(y.a)({},t),{},{randomBlank:e.target.checked})}))},name:"random-blank",color:"primary"}),label:n("randomBlank")}),Object(b.jsx)(C.a,{control:Object(b.jsx)(N.a,{checked:i.eighteenPlus,onChange:function(e){return s((function(t){return Object(y.a)(Object(y.a)({},t),{},{eighteenPlus:e.target.checked})}))},name:"eighteen-plus",color:"secondary"}),label:n("eighteenPlus")})]}),Object(b.jsx)(j.a,{className:e.submitButton,onClick:function(){m((function(e){return Object(y.a)(Object(y.a)({},e),{},{loading:!0})})),setTimeout((function(){m((function(){return function(e){return{loading:!1,code:"2333",capacity:e.numPlayer,currentPlayerNum:0,language:e.language}}(i)}))}),2e3)},size:"large",variant:"contained",color:"primary",children:n("createRoom")})]})})}function Y(){return Object(b.jsx)(f,{allowBack:!0,children:Object(b.jsx)("div",{children:"join room"})})}function X(){return Object(b.jsx)(f,{allowBack:!0,children:Object(b.jsx)("div",{children:"contribute"})})}var K=n(73),M=n.n(K),q=n(72),H=n.n(q),Q=n(74),U=n.n(Q);function Z(){var e=Object(a.useContext)(O).getText,t=Object(s.h)();return Object(b.jsx)(f,{allowBack:!0,children:Object(b.jsxs)(l.a,{container:!0,spacing:5,children:[Object(b.jsx)(m,{text:e("newRoom"),icon:Object(b.jsx)(H.a,{}),path:"".concat(t.path,"/new-room")}),Object(b.jsx)(m,{text:e("joinRoom"),icon:Object(b.jsx)(M.a,{}),path:"".concat(t.path,"/join-room")}),Object(b.jsx)(m,{text:e("addWords"),icon:Object(b.jsx)(U.a,{}),path:"".concat(t.path,"/contribute")})]})})}var $=c.a.createContext(void 0);function _(e){var t=e.children,n=Object(a.useState)(void 0),c=Object(k.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(void 0),s=Object(k.a)(i,2),l=s[0],j=s[1];return Object(b.jsx)($.Provider,{value:{id:r,setId:o,nickname:l,setNickname:j},children:t})}var ee=n(140),te=n(142),ne=n(146),ae=n(144),ce=Object(u.a)((function(e){return Object(ae.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},xlarge:{width:e.spacing(12),height:e.spacing(12),padding:e.spacing(1)},large:{width:e.spacing(7),height:e.spacing(7)},small:{width:e.spacing(5),height:e.spacing(5)},xsmall:{width:e.spacing(3),height:e.spacing(3)},avatar:{backgroundColor:"#343434"}})}));function re(e){var t=e.nickname,n=e.size,c=ce(),r=Object(a.useState)(!0),o=Object(k.a)(r,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){return s(!0)}),[t]),Object(b.jsxs)("div",{className:c.root,children:[Object(b.jsx)(ne.a,{alt:t,src:"https://avatars.dicebear.com/api/bottts/".concat(t,".svg"),className:"".concat(c.avatar," ").concat(c[n]),onLoad:function(){return s(!1)},style:i?{display:"none"}:{display:"block"}}),Object(b.jsx)(D.a,{variant:"circle",animation:"wave",className:"".concat(c[n]),style:i?{display:"block"}:{display:"none"}})]})}var oe=Object(u.a)((function(e){return{formGroup:{width:"fit-content",margin:"1rem auto"},submitButton:{margin:"1rem auto"}}}));function ie(){var e=oe(),t=Object(a.useContext)(O).getText,n=Object(a.useContext)($).setNickname,c=Object(a.useState)(""),r=Object(k.a)(c,2),o=r[0],i=r[1];return Object(b.jsx)(f,{children:Object(b.jsxs)("form",{children:[Object(b.jsx)(re,{nickname:o,size:"xlarge"}),Object(b.jsx)(w.a,{className:e.formGroup,children:Object(b.jsx)(te.a,{id:"nickname",label:t("youNickname"),variant:"outlined",color:"primary",value:o,autoFocus:!0,onInput:function(e){var t=e.target;i(t.value)}})}),Object(b.jsx)(j.a,{className:e.submitButton,onClick:function(){return n(o)},size:"large",variant:"contained",color:"primary",children:t("ok")})]})})}function se(){var e=Object(a.useContext)($).nickname,t=Object(s.g)().code;return e?Object(b.jsx)(f,{children:Object(b.jsxs)(ee.a,{children:["Code: ",t]})}):Object(b.jsx)(ie,{})}function le(){var e=Object(s.h)();return Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{path:"".concat(e.path,"/new-room"),children:Object(b.jsx)(W,{})}),Object(b.jsx)(s.a,{path:"".concat(e.path,"/join-room"),children:Object(b.jsx)(Y,{})}),Object(b.jsx)(s.a,{path:"".concat(e.path,"/contribute"),children:Object(b.jsx)(X,{})}),Object(b.jsx)(s.a,{path:"".concat(e.path,"/room/:code"),children:Object(b.jsx)(_,{children:Object(b.jsx)(se,{})})}),Object(b.jsx)(s.a,{path:e.path,children:Object(b.jsx)(Z,{})})]})}var je=n(75),ue=n(141);var be=function(){var e=Object(je.a)({palette:{type:"dark"}});return Object(b.jsx)(ue.a,{theme:e,children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{path:"/en",children:Object(b.jsx)(p,{language:"en",children:Object(b.jsx)(le,{})})}),Object(b.jsx)(s.a,{path:"/cn",children:Object(b.jsx)(p,{language:"cn",children:Object(b.jsx)(le,{})})}),Object(b.jsx)(s.a,{path:"/",children:Object(b.jsx)(v,{})})]})})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(be,{})}),document.getElementById("root")),de()},88:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.a8802c91.chunk.js.map